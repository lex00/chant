# v0.23.0

Released: 2026-02-13

## Highlights

This release focuses on type safety, performance, and branch lifecycle management.

### Type-Safe Enums

Stringly-typed fields throughout the codebase have been converted to proper Rust enums:

- `frontmatter.type` → `SpecType` (Code, Task, Driver, Documentation, Research, Group)
- `rotation_strategy` → `RotationStrategy` (None, Random, RoundRobin)
- `CriterionResult.status` → `CriterionStatus` (Pass, Fail, Skip)
- `verification_status` → `VerificationStatus` (Passed, Failed, Partial)

Unknown values now fail at parse time instead of silently defaulting, catching configuration errors early.

### Branch Lifecycle Management

Completed specs on feature branches are no longer silently orphaned:

- **`chant finalize --merge`** — Merges the spec's feature branch into the current branch during finalization
- **`chant finalize`** — Warns when a spec has an unmerged feature branch
- **`chant archive`** — Refuses to archive specs with unmerged branches unless `--force` is passed

### Config-Driven Wizard Bypass

The `chant work` wizard now respects configuration defaults:

- Skips prompt selection when `defaults.prompt` is configured
- Skips branch confirmation when `defaults.create_branch` is set
- CLI flags (`--prompt`, `--branch`) continue to override both config and wizard

### Performance Improvements

- Chain execution no longer reloads all specs on every iteration
- Dependency resolution uses a HashMap index instead of per-dependency file I/O
- Git metadata loading runs independent commands in parallel
- New `Spec::load_frontmatter_only` for commands that don't need the body

### Code Quality

- Operations layer deduplication: CLI finalize, cross-repo spec parsing, and MCP verify now delegate to shared operations
- MCP response helpers (`mcp_text_response`, `mcp_error_response`) replace 75+ inline JSON constructions
- Git command helpers (`run_git`, `run_git_in_dir`) eliminate repeated boilerplate
- Context structs for long parameter lists (`SpecPreparationContext`, `AgentInvocationRequest`)
- Silently swallowed errors now log warnings; `retry.rs` no longer panics on system clock issues
- RAII guard prevents temp file leaks when agent spawn fails
