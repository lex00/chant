---
type: research
status: completed
target_files:
- docs/reference/mcp.md
- src/mcp.rs
completed_at: 2026-02-02T23:20:28.125662-07:00
---
# Audit MCP commands ensure alignment with CLI and update documentation

## Analysis

### Current MCP Tools (13)

| MCP Tool | CLI Equivalent | Notes |
|----------|----------------|-------|
| `chant_spec_list` | `list` | ✓ Aligned |
| `chant_spec_get` | `show` | ✓ Aligned |
| `chant_ready` | `list --status ready` | ✓ Convenience function |
| `chant_status` | `status` | ✓ Aligned |
| `chant_log` | `log` | ✓ Aligned |
| `chant_search` | `search` | ✓ Aligned |
| `chant_diagnose` | `diagnose` | ✓ Aligned |
| `chant_spec_update` | No direct CLI | MCP-only: programmatic status/output updates |
| `chant_add` | `add` | ✓ Aligned |
| `chant_finalize` | `finalize` | ✓ Aligned |
| `chant_resume` | `resume` | ✓ Aligned |
| `chant_cancel` | `cancel` | ✓ Aligned |
| `chant_archive` | `archive` | ✓ Aligned |

### CLI Commands NOT in MCP (24)

**Intentionally Excluded (makes no sense for MCP):**
- `init` - Project setup, interactive
- `mcp` - The MCP server itself
- `completion` - Shell completion
- `version` - Version info
- `work` - Spawns agents (requires CLI)
- `watch` - Long-running process
- `edit` - Opens $EDITOR

**Potentially Useful for MCP:**
- `approve` / `reject` - Spec approval workflow (useful for agent coordination)
- `lint` - Validation (agents should validate their work)
- `verify` - Check acceptance criteria (agents need this!)
- `dag` - Dependency graph (useful for planning)
- `export` - Could be useful for reporting

**Lower Priority:**
- `template` - Template management
- `refresh` - Refresh dependencies
- `split` - Split specs
- `merge` - Git operations
- `drift` - Check drift
- `delete` - Dangerous, better to cancel
- `config` - Config validation
- `activity` - Activity feed
- `cleanup` - Artifact cleanup
- `worktree` - Worktree management
- `prep` - Agent preparation
- `derive` - Enterprise feature
- `site` - Static site generation

### Documentation Issues Found

1. **mcp.md is comprehensive** - The documentation is thorough and matches implementation
2. **No issues found** - MCP tools are well-documented with examples

## Recommendations

1. **Add `chant_verify`** - Agents need to verify their work against acceptance criteria
2. **Add `chant_lint`** - Agents should validate specs before finalization
3. **Consider `chant_dag`** - Useful for agents to understand dependencies
4. **Consider `chant_approve`** - For approval workflows

## Acceptance Criteria

- [x] Review MCP vs CLI alignment
- [x] Identify gaps that would benefit agents
- [x] Verify documentation accuracy
- [x] Recommend additions (if any)