---
type: code
status: completed
target_files:
- src/main.rs
- src/templates.rs
- templates/agent-claude.md
- templates/agent-cursor.md
- templates/agent-amazonq.md
- templates/agent-generic.md
model: claude-haiku-4-5-20251001
---
# Implement chant init --agent for multiple AI providers

## Overview

Implement the `chant init --agent` command with support for multiple AI coding assistants.

## Supported Providers

| Provider | Config File | Notes |
|----------|-------------|-------|
| Claude Code | CLAUDE.md | Project instructions for Claude |
| Cursor | .cursorrules | Cursor IDE rules |
| Amazon Q | .amazonq/rules.md | Amazon Q Developer |
| Generic | .ai-instructions | Portable fallback |

## Implementation Tasks

### 1. Add templates directory
- [x] Create `templates/` directory in source
- [x] Add `claude.md` template (CLAUDE.md content)
- [x] Add `cursorrules.md` template
- [x] Add `amazonq.md` template
- [x] Add `ai-instructions.md` template
- [x] Embed templates using `include_str!()` macro

### 2. Update CLI
- [x] Add `--agent` flag to `init` command
- [x] Add support for multiple agent types (claude, cursor, amazonq, generic, all)

### 3. Template content
Each template includes:
- [x] Chant workflow explanation (specs, not direct coding)
- [x] Key commands (`just chant add`, `just chant work`, etc.)
- [x] What NOT to do (no direct file edits)
- [x] Provider-specific formatting

### 4. Init logic
- [x] Create directories if needed (.amazonq/)
- [x] Write templates to correct locations
- [x] Print success message with configured agents

## Acceptance Criteria

- [x] `chant init --agent claude` creates CLAUDE.md
- [x] `chant init --agent cursor` creates .cursorrules
- [x] `chant init --agent amazonq` creates .amazonq/rules.md
- [x] `chant init --agent generic` creates .ai-instructions
- [x] `chant init --agent all` creates all config files
- [x] Templates embedded in binary (no network fetch)
- [x] Success message shows configured agents
- [x] All tests pass (251 tests passing)
- [x] Multiple agents can be specified: `chant init --agent claude --agent cursor`
- [x] Case-insensitive provider names