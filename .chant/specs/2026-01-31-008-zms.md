---
type: code
status: in_progress
---
# Add tests for branch resolution in spec loading

## Overview

The `load_with_branch_resolution` function allows loading specs from their working branches when they are in_progress. This feature needs comprehensive tests to ensure it works correctly in various scenarios.

## Acceptance Criteria

- [x] Add test for non-in_progress spec (should not load from branch)
- [x] Add test for in_progress spec with default chant/{id} branch
- [x] Add test for in_progress spec with explicit branch frontmatter field
- [x] Add test for in_progress spec when branch doesn't exist (should fall back to main)
- [x] Add test for in_progress spec when spec doesn't exist on branch (should fall back to main)
- [x] All tests pass
- [x] Code passes cargo fmt
- [x] Code passes cargo clippy