---
type: documentation
status: pending
target_files:
  - docs/reference/cli.md
  - docs/reference/config.md
  - docs/concepts/lifecycle.md
---

# Document missing features: agent rotation, cancel command, blocked/cancelled status, list filters, wizard modes, lint rules, split complexity, config validate

## Overview

Audit found documentation gaps for recently implemented features.

## Gaps to Fix

### docs/reference/config.md

Add agent rotation section:
```markdown
## Agent Rotation (Single Spec)

Distribute single-spec work across configured agents:

```yaml
defaults:
  rotation_strategy: round-robin  # none, random, round-robin

parallel:
  agents:
    - name: main
      command: claude
      weight: 1           # rotation weight (default: 1)
    - name: alt1
      command: claude-alt1
      weight: 2           # picked 2x as often
```

Strategies:
- `none` - Always use first agent (default)
- `random` - Weighted random selection
- `round-robin` - Rotate through agents, state persists in `.chant/store/`
```

### docs/reference/cli.md

1. Add cancel command section:
```markdown
## Cancel

Soft-delete a spec (set status to cancelled):

```bash
chant cancel 001                     # Cancel a spec
chant cancel 001 --yes               # Skip confirmation
```

Cancelled specs are preserved but excluded from `chant list` and `chant work`.
```

2. Add list filters:
```markdown
### Type and Status Filtering

```bash
chant list --type code               # Filter by spec type
chant list --type documentation
chant list --status pending          # Filter by status
chant list --status completed
chant list --type code --status pending  # Combine filters
```
```

3. Add wizard mode sections for add, work, export:
- Add wizard: `chant add` without description
- Work wizard: `chant work` without spec ID
- Export wizard: `chant export` without flags

4. Add lint command documentation:
```markdown
## Lint

Validate specs for best practices:

```bash
chant lint                           # Lint all specs
chant lint 001                       # Lint specific spec
```

### Lint Rules

| Rule | Warning | Threshold |
|------|---------|-----------|
| Complexity | Too many acceptance criteria | >5 |
| Complexity | Too many target files | >5 |
| Complexity | Long description | >200 words |
| Coupling | References other spec IDs | Any reference |
| Model waste | Opus/Sonnet on simple spec | <3 criteria |
```

5. Add config validate:
```markdown
## Config Validation

Validate configuration semantically:

```bash
chant config --validate              # Check config for issues
```
```

6. Add split complexity analysis note

### docs/concepts/lifecycle.md

Add blocked and cancelled status explanations:
- Blocked: spec has depends_on pointing to incomplete specs
- Cancelled: soft-deleted via `chant cancel`

## Acceptance Criteria

- [ ] Agent rotation documented in config.md
- [ ] Cancel command documented in cli.md
- [ ] List --type/--status flags documented
- [ ] Blocked/cancelled statuses explained in lifecycle.md
- [ ] Add wizard mode documented
- [ ] Work wizard mode documented
- [ ] Export wizard mode documented
- [ ] Lint command and rules documented
- [ ] Config validate documented
- [ ] Split complexity analysis mentioned
