---
type: code
status: in_progress
model: claude-opus-4-5-20251101
---
# CLAUDE.md guidance - sync repo and installed versions, add orchestrator monitoring guidance

## Problem

There are two CLAUDE.md files:
1. Repository CLAUDE.md (this repo) - development version
2. Installed CLAUDE.md (`.chant/prompts/standard.md` or similar) - what users get

These should be identical since the installed version is what users actually see when agents execute specs. Currently they may be out of sync.

Additionally, the orchestrator pattern needs better guidance. When using Claude as an interactive orchestrator (recommended pattern), the agent should monitor execution logs for struggling agents. If an agent is struggling, the orchestrator should:
1. Stop the agent
2. Update the spec into 2 phases: research + implementation
3. Evaluate whether to split implementation into separate specs

This prevents wasted time and ensures cleaner spec decomposition.

## Solution

1. **Sync CLAUDE.md files**
   - Compare repository CLAUDE.md with installed version
   - Make them identical (installed version is source of truth for users)
   - Add process to keep them in sync

2. **Add orchestrator monitoring guidance**
   - Add section on monitoring agent execution logs
   - Define "struggling" indicators (repeated errors, long delays, confusion)
   - Provide workflow for stopping struggling agents
   - Explain research/implementation phase split pattern
   - Guide on when to split into multiple specs

## Acceptance Criteria

- [x] Locate both CLAUDE.md files (repo and installed)
- [x] Compare content and identify differences
- [x] Decide which should be source of truth
- [x] Sync files to be identical
- [x] Add section: "Orchestrator Pattern - Monitoring Agent Execution"
- [x] Document struggling agent indicators
- [x] Document stop-and-split workflow
- [x] Explain research vs implementation phase split
- [x] Provide examples of when to split specs
- [x] Add note about keeping files in sync during updates
- [x] All tests passing
- [x] Code linted and formatted