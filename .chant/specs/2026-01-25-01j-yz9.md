---
type: code
status: completed
target_files:
- src/cmd/spec.rs
- src/main.rs
model: claude-haiku-4-5-20251001
---
# Add --prompt flag to chant add command

The `just doc-audit MODULE` recipe fails because `chant add` doesn't support a `--prompt` flag.

## Current Behavior

```bash
just chant add "Audit docs for src/id.rs" --prompt doc-audit
# error: unexpected argument '--prompt' found
```

## Expected Behavior

```bash
chant add "Description" --prompt doc-audit
# Creates spec with `prompt: doc-audit` in frontmatter
```

## Implementation

Add an optional `--prompt` flag to the `add` subcommand that sets the `prompt` field in the spec frontmatter.

## Acceptance Criteria

- [x] `chant add "desc" --prompt foo` creates spec with `prompt: foo` in frontmatter
- [x] Flag is optional - omitting it works as before
- [x] `just doc-audit src/id.rs` works end-to-end
- [x] All tests pass
- [x] Code linted