---
type: code
status: pending
depends_on:
  - 2026-01-24-01c-w2u
target_files:
- src/main.rs
---
# Fix split command output - titles, target_files parsing, acceptance criteria

The split command creates subtasks with several issues.

## Problems Found

1. **Missing titles**: Subtasks have no `# Title` header - body starts with description directly, causing "(no title)" in `chant list`

2. **Invalid target_files**: Agent output like `src/main.rs (test module)` gets used verbatim. The `(test module)` annotation should be stripped.

3. **No acceptance criteria**: Subtasks lack `## Acceptance Criteria` sections, making completion validation harder.

## Expected Subtask Format

```markdown
---
type: code
status: pending
depends_on:
  - 2026-01-24-01e-o0l.1
target_files:
- src/main.rs
---
# Extract spec finalization into reusable function

Create a dedicated function that encapsulates all finalization steps...

## Acceptance Criteria

- [ ] Implement as described
- [ ] All tests pass
```

## Acceptance Criteria

- [ ] Parse subtask title from agent output (e.g., "## Subtask 1: Title Here")
- [ ] Write `# Title` as first line of subtask body
- [ ] Strip annotations from target_files (remove parenthetical comments)
- [ ] Add default acceptance criteria to each subtask
- [ ] All tests pass
