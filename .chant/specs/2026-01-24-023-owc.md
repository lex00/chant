---
type: code
status: in_progress
target_files:
- src/main.rs
model: claude-haiku-4-5-20251001
---
# Archive driver should automatically archive all completed group members

## Current Behavior

When running `chant archive <driver-id>`:
1. Checks all members are completed (good)
2. Archives only the driver spec (missing members)

Member specs are skipped if driver still exists in specs dir.

## Expected Behavior

When archiving a completed driver:
1. Verify all members are completed
2. Archive ALL member specs first (in order: .1, .2, .3...)
3. Then archive the driver spec
4. Report: "Archived group: driver + N members"

## Example

```bash
$ chant archive 01e
Archiving group 01e-o0l...
  → 01e-o0l.1 (archived)
  → 01e-o0l.2 (archived)
  → 01e-o0l.3 (archived)
  → 01e-o0l.4 (archived)
  → 01e-o0l.5 (archived)
  → 01e-o0l (driver, archived)
Archived 6 specs (1 driver + 5 members)
```

## Acceptance Criteria

- [x] When archiving a driver, automatically include all completed members
- [x] Archive members first, then driver (order matters for consistency)
- [x] Show progress for each member archived
- [x] Show summary: "Archived N specs (1 driver + M members)"
- [x] Dry-run shows all specs that would be archived
- [x] If any member not completed, fail with list of incomplete members
- [x] Add test for group archive behavior