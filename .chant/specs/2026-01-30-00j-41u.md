---
type: code
status: in_progress
target_files:
- src/spec.rs
- src/cmd/work.rs
---
# Fix short ID resolution bug - chant work matches archived specs but chant list does not

## Problem

When resolving short spec IDs:
- `chant list` only shows active specs (correct)
- `chant work 2mk` returns "Ambiguous spec ID '2mk'. Matches: 2026-01-30-00i-2mk, 2026-01-27-003-2mk"

The second match (`2026-01-27-003-2mk`) is archived and shouldn't be matched.

## Expected Behavior

Short ID resolution should only match active specs (in `.chant/specs/`), not archived specs (in `.chant/archive/`).

## Acceptance Criteria

- [x] Identify where short ID resolution occurs
- [x] Fix resolution to exclude archived specs
- [x] `chant work <short-id>` only matches active specs
- [x] Add test for short ID resolution excluding archives
- [x] Verify fix works