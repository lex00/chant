---
type: code
status: completed
model: claude-opus-4-5-20251101
---
# Fix all clippy warnings and fmt issues for CI

## Problem

CI is failing with clippy errors when run with `-D warnings` (treat warnings as errors). Two errors blocking the release:

### 1. `src/cmd/spec.rs:1232` - Too many arguments (12/7)
```
error: this function has too many arguments (12/7)
```
The `cmd_list` function has 12 parameters, exceeding clippy's limit of 7.

**Fix:** Refactor to use a struct for parameters, or add `#[allow(clippy::too_many_arguments)]`

### 2. `src/cmd/spec.rs:1464` - format! in println! args
```
error: `format!` in `println!` args
```
Using `format!()` inside `println!()` is inefficient - should use `println!` formatting directly.

**Fix:** Change `println!("{}", format!(...))` to `println!(...)` or `format_args!(...)`

## Solution

1. Fix `cmd_list` function signature (refactor or allow attribute)
2. Fix `println!` with embedded `format!()`
3. Run `cargo clippy -- -D warnings` and verify no errors
4. Run `cargo fmt` and verify clean
5. Run all tests and verify they pass

## Acceptance Criteria

- [x] Read `src/cmd/spec.rs:1232` and fix too many arguments issue
- [x] Read `src/cmd/spec.rs:1464` and fix format_in_format_args issue
- [x] Run `cargo clippy -- -D warnings` and verify exit code 0
- [x] Run `cargo fmt --check` and verify exit code 0
- [x] Run `cargo test` and verify all tests pass
- [x] All tests passing
- [x] Code linted and formatted