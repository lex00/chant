---
type: code
status: completed
target_files:
- .github/workflows/release.yml
model: claude-haiku-4-5-20251001
---
# Fix homebrew formula install method

## Problem

The homebrew formula template in `.github/workflows/release.yml` has a broken `install` method:

```ruby
def install
  bin.install "chant-#{os.kernel_name.downcase}-#{hardware.platform_cpu}" => "chant"
end
```

The variable `os` doesn't exist in Homebrew formula context, causing:
```
NameError: undefined local variable or method 'os'
```

## Solution

Since each platform downloads only one binary file, use glob to find it:

```ruby
def install
  bin.install Dir["chant-*"].first => "chant"
end
```

## Acceptance Criteria

- [x] Formula install method fixed in release.yml
- [x] Code linted