---
type: code
status: completed
labels:
- new-command
model: haiku
completed_at: 2026-01-26T19:12:17Z
target_files:
- src/main.rs
- src/cmd/mod.rs
- src/cmd/spec.rs
- src/cmd/export.rs
---

# Add chant export command to dump spec data as JSON, CSV, or Markdown - supports filtering by status, type, labels, and date ranges

## Overview

Implemented a new `chant export` command that enables users to export spec data in multiple formats with comprehensive filtering capabilities.

## Acceptance Criteria

- [x] Command added to CLI with format parameter (json, csv, markdown)
- [x] JSON export format implemented
- [x] CSV export format implemented with proper escaping
- [x] Markdown export format implemented as formatted tables
- [x] Filtering by status (--status flag, supports multiple values)
- [x] Filtering by type (--type_ flag)
- [x] Filtering by labels (--label flag, OR logic)
- [x] Filtering by ready status (--ready flag)
- [x] Date range filtering (--from and --to flags based on spec ID dates)
- [x] Field selection (--fields flag with default and 'all' options)
- [x] Output to file (--output flag) or stdout
- [x] All tests passing
- [x] Code formatted with cargo fmt
- [x] All clippy warnings addressed in implementation

## Implementation Details

### Command Structure
- Added `Export` variant to `Commands` enum in main.rs with all necessary parameters
- Created new module `cmd/export.rs` with complete implementation
- Added public `cmd_export` function in `cmd/spec.rs` that delegates to export module

### Features Implemented
1. **Multiple Export Formats**:
   - JSON: Pretty-printed JSON array with spec objects
   - CSV: Proper quoting and escaping of special characters
   - Markdown: Clean table format with headers and separators

2. **Comprehensive Filtering**:
   - Status filtering (case-insensitive)
   - Type filtering (exact match)
   - Labels filtering (OR logic - any matching label)
   - Ready status filtering (using existing is_ready logic)
   - Date range filtering based on spec ID date component (YYYY-MM-DD)

3. **Flexible Field Selection**:
   - Default fields: id, type, status, title, labels, model, completed_at
   - All fields option including extended spec attributes
   - Custom field selection via comma-separated list

4. **Output Management**:
   - Stdout output (default)
   - File output with --output flag

### Code Quality
- All unit tests passing (189 tests)
- All integration tests passing (16 tests)
- Code formatted with cargo fmt
- No clippy warnings in new code
- Proper error handling with anyhow Result type
