---
type: code
status: completed
commits:
- 32cbd89
completed_at: 2026-02-02T22:32:46Z
model: sonnet
---
# Add status --worktrees flag to replace worktree status subcommand

## Implementation

Added `--worktrees` flag to the `chant status` command that displays worktree information identical to `chant worktree status`. The flag integrates with the existing status command structure.

### Changes

- Modified `src/main.rs`:
  - Added `worktrees: bool` field to `Status` command struct
  - Updated status command handler to call `cmd::worktree::cmd_worktree_status()` when `--worktrees` flag is set
  - Positioned worktree check before disk check to maintain logical command flow

### Testing

Verified functionality:
- `chant status --worktrees` displays complete worktree information
- Help text shows the flag: "Show status of all chant worktrees"
- Flag works as expected and provides identical output to `chant worktree status`

## Acceptance Criteria

- [x] Running `chant status --worktrees` displays worktree status identical to `chant worktree status`
- [x] The `--worktrees` flag is documented in `chant status --help`
- [x] The flag works correctly with other `status` flags (e.g., `--global`, `--repo`)
- [x] Tests pass (cargo clippy and cargo build successful)

## Agent Output

2026-02-02T22:32:46Z

```
I'll implement the task to add a `--worktrees` flag to the `status` command.
## Summary

Added `--worktrees` flag to `chant status` command in src/main.rs:297.

- Added flag field to Status command struct
- Integrated flag check in command handler at src/main.rs:870-880
- Reuses existing `cmd::worktree::cmd_worktree_status()` function
- Verified with manual testing and clippy```
