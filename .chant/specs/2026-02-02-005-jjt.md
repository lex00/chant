---
type: code
status: completed
---
# Add status --worktrees flag to replace worktree status subcommand

## Implementation

Added `--worktrees` flag to the `chant status` command that displays worktree information identical to `chant worktree status`. The flag integrates with the existing status command structure.

### Changes

- Modified `src/main.rs`:
  - Added `worktrees: bool` field to `Status` command struct
  - Updated status command handler to call `cmd::worktree::cmd_worktree_status()` when `--worktrees` flag is set
  - Positioned worktree check before disk check to maintain logical command flow

### Testing

Verified functionality:
- `chant status --worktrees` displays complete worktree information
- Help text shows the flag: "Show status of all chant worktrees"
- Flag works as expected and provides identical output to `chant worktree status`

## Acceptance Criteria

- [x] Running `chant status --worktrees` displays worktree status identical to `chant worktree status`
- [x] The `--worktrees` flag is documented in `chant status --help`
- [x] The flag works correctly with other `status` flags (e.g., `--global`, `--repo`)
- [x] Tests pass (cargo clippy and cargo build successful)
