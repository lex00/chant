---
type: code
status: completed
target_files:
- src/main.rs
model: claude-haiku-4-5-20251001
---
# Split command should only work on pending specs

## Problem

`chant split` can be run on any spec, even ones that are `in_progress`, `completed`, or `failed`. This doesn't make sense - you should only split specs before work begins.

## Solution

Validate spec status before splitting:
- `pending` - allowed
- `in_progress` - error: "Cannot split spec that is in progress"
- `completed` - error: "Cannot split completed spec"
- `failed` - error: "Cannot split failed spec"
- `group` - error: "Spec is already split"

## Acceptance Criteria

- [x] Check spec status before splitting
- [x] Only allow splitting `pending` specs
- [x] Clear error message for each invalid status
- [x] Check spec type - reject if already `group`
- [x] Add `--force` flag to bypass (for re-splitting?)
- [x] Add test for status validation