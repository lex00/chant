---
type: code
status: pending
target_files:
- src/main.rs
---
# Split command should only work on pending specs

## Problem

`chant split` can be run on any spec, even ones that are `in_progress`, `completed`, or `failed`. This doesn't make sense - you should only split specs before work begins.

## Solution

Validate spec status before splitting:
- `pending` - allowed
- `in_progress` - error: "Cannot split spec that is in progress"
- `completed` - error: "Cannot split completed spec"
- `failed` - error: "Cannot split failed spec"
- `group` - error: "Spec is already split"

## Acceptance Criteria

- [ ] Check spec status before splitting
- [ ] Only allow splitting `pending` specs
- [ ] Clear error message for each invalid status
- [ ] Check spec type - reject if already `group`
- [ ] Add `--force` flag to bypass (for re-splitting?)
- [ ] Add test for status validation
