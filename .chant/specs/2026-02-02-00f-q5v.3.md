---
type: code
status: pending
depends_on: []
target_files:
- examples/test-examples.sh
---
# Create test runner script

Build `examples/test-examples.sh` that executes examples via Claude Code CLI.

### Inherited Context

- Script must handle 3 execution patterns: driver, chain, independent
- Examples must be runnable without manual intervention

### Acceptance Criteria

- [ ] Script is executable (chmod +x) and includes shebang
- [ ] `--help` flag displays usage with examples for each pattern
- [ ] `./test-examples.sh all` runs all 5 examples sequentially
- [ ] `./test-examples.sh <example-name>` runs single example
- [ ] Script detects execution pattern per example and uses correct chant command

### Edge Cases

- Non-existent example name: Exit with error and helpful message
- Claude Code CLI not available: Check for `claude` command and fail gracefully
- Example directory structure changes: Script should validate directory exists

### Example Test Cases

For execution pattern detection:
- kpi-okr-workflow: Detect driver pattern, run `chant work <driver-spec-id>`
- oss-maintainer-workflow: Detect chain pattern, run `chant work --chain <spec-ids...>`
- approval-workflow: Detect independent pattern, run each spec separately


- `test-examples.sh` script with function `run_example(name)` - Exits 0 on success, 1 on failure
- Pattern detection: Script determines driver/chain/independent from spec structure

---