---
type: code
status: completed
target_files:
- src/main.rs
- src/cmd/lifecycle.rs
- docs/reference/cli.md
completed_at: 2026-01-26T22:26:07Z
model: haiku
---
# Add interactive wizard mode to chant merge command - pick completed specs to merge

## Overview

When `chant merge` is run without spec IDs, launch an interactive wizard to select from completed specs with branches.

## Interface

```bash
chant merge                            # Wizard mode
chant merge 001 002                    # Direct mode (existing)
chant merge --all                      # All completed (existing)
```

### Wizard Flow

```
? Select specs to merge:
  [x] 2026-01-26-001-abc  Add user authentication (chant/001-abc)
  [x] 2026-01-26-002-def  Fix login bug (chant/002-def)
  [ ] 2026-01-26-003-ghi  Update API docs (chant/003-ghi)
â€º [Select all]

? Use rebase strategy? No
? Delete branches after merge? Yes

Merging 2 specs...
```

## Implementation

- Load completed specs that have associated branches
- Use `dialoguer::MultiSelect` to pick specs (show ID + title + branch name)
- Include "Select all" option
- Use `dialoguer::Confirm` for rebase strategy (default: no)
- Use `dialoguer::Confirm` for delete branch (default: yes)
- If rebase selected, prompt for auto-resolve
- Pass selections to existing merge logic

## Acceptance Criteria

- [ ] `chant merge` (no args) launches wizard when mergeable specs exist
- [ ] Wizard shows multi-select list of completed specs with branches
- [ ] Wizard prompts for rebase strategy
- [ ] Wizard prompts for branch deletion
- [ ] Direct mode `chant merge 001` still works
- [ ] Shows "No specs to merge" message if none available
- [ ] Tests for wizard flow
- [ ] Documentation updated