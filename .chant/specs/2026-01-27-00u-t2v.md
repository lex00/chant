---
type: code
status: pending
depends_on:
  - 2026-01-27-00t-i78
target_files:
  - src/cmd/lifecycle.rs
---

# Add chant merge auto-detect for fast-forward conflicts

## Problem

Related to 00t-i78 but focuses on improving the merge command's conflict detection and resolution suggestions.

When `chant merge` encounters conflicts, error messages aren't actionable. Users don't know which recovery strategy to use.

**Current:**
```
Error: Merge failed
```

**Better:**
```
Error: Merge failed due to conflicts
Files with conflicts:
  - src/main.rs
  - src/lib.rs

Next steps:
  1. Resolve conflicts manually, then: git merge --continue
  2. Or try automatic rebase: chant merge spec-id --rebase --auto
  3. Or abort: git merge --abort
```

## Solution

Enhance merge error handling:

1. Detect conflict type (fast-forward, content conflicts, tree conflicts)
2. Provide specific recovery instructions
3. Show conflicting files
4. Suggest appropriate flags (--rebase, --no-ff, --auto)

## Acceptance Criteria

- [ ] Detect merge conflict types
- [ ] Show conflicting file list in error
- [ ] Provide numbered recovery steps
- [ ] Suggest appropriate chant merge flags
- [ ] Add examples to error messages
- [ ] Test with various conflict scenarios
- [ ] Update documentation