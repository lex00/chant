---
type: code
status: completed
model: claude-opus-4-5
target_files:
  - src/main.rs
  - src/cmd/config.rs
  - src/cmd/mod.rs
---

# Add config validate subcommand for semantic config validation

Add `chant config --validate` (or `chant config validate`) to check config for semantic correctness beyond YAML parsing.

## Checks to Implement

### Agent Commands (parallel.agents)

```
Checking parallel agents...
  ✓ claude1 - found in PATH
  ✗ claude-typo - not found in PATH
  ⚠ claude2 - found but may require different shell
```

### Prompt References

```
Checking prompts...
  ✓ standard.md exists
  ✓ parallel-cleanup.md exists
  ✗ custom-prompt.md not found (referenced in defaults.prompt)
```

### Parallel Limits

```
Checking parallel config...
  ⚠ total_max (8) equals sum of agent limits (8) - no room for manual sessions
  ✓ Agent limits are reasonable
```

### Recommended Fields

```
Checking recommended fields...
  ⚠ No git.provider set - defaulting to github
  ⚠ No defaults.model set - will use haiku
```

## CLI Interface

```bash
chant config --validate    # Validate current config
chant config --validate -v # Verbose output with all checks
```

## Exit Codes

- 0: All checks pass
- 1: Errors found (missing commands, missing prompts)
- 0 with warnings: Recommendations but not blocking

## Acceptance Criteria

- [x] Validates agent commands exist in PATH
- [x] Validates referenced prompts exist
- [x] Warns on parallel limit issues
- [x] Warns on missing recommended fields
- [x] Clear output with pass/fail/warn indicators
- [x] Appropriate exit codes
- [x] Tests for each validation type
