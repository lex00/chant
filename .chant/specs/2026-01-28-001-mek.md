---
type: docs
status: completed
model: claude-opus-4-5-20251101
target_files:
- docs/reference/cli.md
- docs/guides/recovery.md
---
# Update documentation: Add --all-completed flag to merge command docs

## Problem

The `--all-completed` flag for `chant merge` was implemented in spec 00x-v6m but is not documented in the reference documentation.

**Current state**:
- ✅ Feature implemented in `src/cmd/lifecycle.rs`
- ✅ CLI flag added to `src/main.rs`
- ✅ Works: `chant merge --all-completed --dry-run` returns results
- ✅ Help text shows flag: `chant merge --help | grep all-completed`
- ❌ Not in `docs/reference/cli.md` under Merge section
- ❌ Not in any guides or examples

**User impact**:
Users reading the documentation won't know about this convenient post-parallel workflow flag.

## Solution

Update `docs/reference/cli.md` to document the `--all-completed` flag:

### 1. Add to basic examples (around line 786):
```markdown
chant merge --all                     # Merge all completed spec branches
chant merge --all-completed           # Merge completed specs with branches (post-parallel convenience)
chant merge --all --dry-run           # Preview what would be merged
```

### 2. Add dedicated subsection after "Interactive Wizard":
```markdown
### Post-Parallel Convenience: `--all-completed`

After running `chant work --parallel`, use `--all-completed` as a convenience to merge all specs that:
1. Have `status: completed`
2. Have an associated branch (e.g., `chant/spec-id`)

This is equivalent to `--all` but filters to only specs with branches, making it perfect for post-parallel workflows:

```bash
# After parallel execution
chant work --parallel --max 5

# Merge all completed specs with branches
chant merge --all-completed --delete-branch --yes
```

**vs `--all`:**
- `--all`: Merges all completed spec branches (may include specs completed without branches)
- `--all-completed`: Only merges completed specs that have branches (post-parallel use case)
```

### 3. Update examples in guides/recovery.md if needed

Add mention of `--all-completed` in recovery scenarios after parallel execution.

## Acceptance Criteria

- [x] Add `--all-completed` to basic examples in cli.md
- [x] Add "Post-Parallel Convenience" subsection explaining the flag
- [x] Explain difference between `--all` and `--all-completed`
- [x] Show post-parallel workflow example
- [x] Check if guides/recovery.md needs update
- [x] Verify documentation is clear and accurate