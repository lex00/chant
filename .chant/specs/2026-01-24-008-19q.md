---
type: code
status: completed
target_files:
- src/main.rs
commit: '6304141'
completed_at: 2026-01-24T12:23:08Z
---
# Add depends_on field with dependency checking

Prevent `chant work` from executing specs that have unsatisfied dependencies.

## Acceptance Criteria

- [x] In `cmd_work`, check if spec has depends_on with incomplete dependencies
- [x] If dependencies are not satisfied, print error listing the blocking specs
- [x] Do not execute the spec if dependencies are unsatisfied
- [x] The depends_on frontmatter field already exists in spec.rs

## Implementation Notes

- Use `spec.is_ready(&all_specs)` to check if dependencies are satisfied
- If not ready, list which specs are blocking
- Print a helpful message like "Blocked by: spec-id-1, spec-id-2"

## Agent Output

2026-01-24T12:23:08Z

```
Done. The spec for "Add depends_on field with dependency checking" was already fully implemented in the codebase. The implementation in `cmd_work` (lines 498-521 in `src/main.rs`):

1. Loads all specs and checks if the target spec is ready using `spec.is_ready(&all_specs)`
2. If not ready, identifies which dependencies are blocking (incomplete or not found)
3. Prints an error message: "âœ— Spec has unsatisfied dependencies." followed by "Blocked by: spec-id-1 (status), spec-id-2 (status)"
4. Bails out with an error, preventing execution

The `depends_on` field was already present in `spec.rs` (line 23).

I checked off all acceptance criteria and committed with message: `chant(2026-01-24-008-19q): Check off acceptance criteria for dependency checking````
