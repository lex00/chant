---
type: code
status: completed
commits:
- d49179a
completed_at: 2026-02-02T14:15:08Z
model: sonnet
---
# Fix test-examples.sh to treat rejected specs as expected failures

## Problem

Script marks "rejected" spec errors as unexpected failures. The error "Cannot work on spec... it has been rejected" should be treated as expected, like "requires approval".

## Acceptance Criteria

- [x] Script recognizes "rejected" in error output as expected failure
- [x] 003-rejected-change shows as expected failure, not unexpected
- [x] Exit code is 0 when only expected failures occur

## Agent Output

2026-02-02T14:15:08Z

```
I'll implement the fix to treat rejected specs as expected failures in test-examples.sh.
## Summary

Modified examples/test-examples.sh to recognize "has been rejected" as expected failure pattern.

- Updated run_chant_work() at line 209 to include "has been rejected" in grep pattern
- Updated run_chant_work_chain() at line 239 with same pattern
- Verified 003-rejected-change now shows as expected failure with exit code 0
- All acceptance criteria met and checked off```
