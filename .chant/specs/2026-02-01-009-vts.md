---
type: code
status: in_progress
target_files:
- src/spec_group.rs
model: claude-sonnet-4-5-20250929
---
# Bug: Base36 sequence sorting breaks after 36 specs per day

## Problem

Spec IDs use base36 for the daily sequence: `YYYY-MM-DD-SSS-XXX`

The sequence increments: `001`→`009`→`00a`→`00z`→`010`→...

But lexicographic sorting breaks when sequence rolls from `00z` to `010`:
- `'1' < 'a'` in ASCII
- So `010` sorts BEFORE `00a`, not after `00z`

This causes the 37th+ spec of a day to appear before specs 11-36.

## Root Cause

`compare_spec_ids()` in `spec_group.rs` uses lexicographic comparison for the full ID. It handles member numbers (`.N` suffix) correctly with numeric comparison, but not the base36 sequence portion.

## Solution

Modify `compare_spec_ids()` to:
1. Parse the date portion (`YYYY-MM-DD`) - compare lexicographically
2. Parse the sequence portion (`SSS`) - convert from base36 to number, compare numerically
3. Parse the random suffix (`XXX`) - compare lexicographically (tiebreaker)

Can use `id::parse_base36()` which already exists.

## Acceptance Criteria

- [x] `compare_spec_ids` parses and compares sequence numerically
- [x] `010-xxx` sorts after `00z-xxx` on same date
- [x] Existing member number sorting preserved
- [x] Add test case for base36 rollover sorting
- [x] `chant list` shows specs in correct order after 36+ specs/day