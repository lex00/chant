---
type: code
status: completed
target_files:
- src/templates.rs
- templates/agent-cursor.md
commits:
- 90be32a
completed_at: 2026-01-30T12:06:01Z
model: opus
---
# Enable MCP support for Cursor IDE

Cursor IDE supports MCP servers, and chant has a full MCP server with 12 tools. Currently:
- MCP config generation for Cursor is disabled (marked "future work" in `src/templates.rs:45`)
- Cursor template doesn't document MCP tools
- Template focuses only on CLI usage

Enable MCP support so Cursor users get `.cursor/mcp.json` and documentation of available tools.

## Acceptance Criteria

- [x] In `src/templates.rs`, change `supports_mcp()` to return `true` for Cursor
- [x] In `src/templates.rs`, add `Self::Cursor => Some(".cursor/mcp.json")` to `mcp_config_filename()`
- [x] Update tests in `src/templates.rs` to expect Cursor MCP support
- [x] Add "## MCP Integration" section to `templates/agent-cursor.md` documenting available tools
- [x] Document query tools: `chant_spec_list`, `chant_spec_get`, `chant_ready`, `chant_status`, `chant_log`, `chant_search`, `chant_diagnose`
- [x] Document mutating tools: `chant_spec_update`, `chant_add`, `chant_finalize`, `chant_resume`, `chant_cancel`, `chant_archive`
- [x] Note that `chant work` is CLI-only (spawns subprocess)
- [x] All tests pass

## Agent Output

2026-01-30T12:06:01Z

```
I'll implement MCP support for Cursor IDE. Let me start by reading the relevant files to understand the current implementation.
Now I have a clear understanding of what needs to be done. Let me also look at the Claude template to see how MCP is documented there, so I can follow a similar pattern for Cursor.
Now I have all the context I need. Let me create a todo list and implement the changes.
Now I need to add the MCP Integration section to the Cursor template. I'll add it after the "Key Commands" section and before "Notes", following a similar pattern to the Claude template.
All tests pass. Now let me update the spec file to check off the acceptance criteria.
Now I need to add the model to the frontmatter since all acceptance criteria are met.
All tasks are complete. The spec implementation is finished:

**Summary of changes:**

1. **`src/templates.rs`**:
   - Changed `supports_mcp()` to return `true` for `AgentProvider::Cursor`
   - Added `Self::Cursor => Some(".cursor/mcp.json")` to `mcp_config_filename()`
   - Updated both test functions to expect Cursor MCP support

2. **`templates/agent-cursor.md`**:
   - Added comprehensive "## MCP Integration" section with:
     - Setup instructions showing the `.cursor/mcp.json` config
     - All 7 query tools documented: `chant_spec_list`, `chant_spec_get`, `chant_ready`, `chant_status`, `chant_log`, `chant_search`, `chant_diagnose`
     - All 5 mutating tools documented: `chant_spec_update`, `chant_add`, `chant_finalize`, `chant_resume`, `chant_cancel`, `chant_archive`
     - Clear guidance on when to use MCP vs CLI (noting `chant work` is CLI-only)

3. **All tests pass** (316 unit tests + 65 integration tests)

4. **Git status is clean** for the spec-related files (other modified specs are unrelated to this work)```
