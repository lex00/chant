---
type: code
status: completed
target_files:
- src/main.rs
commit: 81ba38c
completed_at: 2026-01-24T12:28:05Z
---
# Add chant lint command for spec validation

Add a `lint` command that validates all specs for common issues.

## Acceptance Criteria

- [x] Add `Lint` subcommand to CLI
- [x] Check that all specs have valid YAML frontmatter
- [x] Check that all specs have a title (# heading)
- [x] Check that depends_on references exist
- [x] Report all issues found with spec ID and description
- [x] Exit with code 1 if any issues found, 0 if all valid

## Example Output

```
Linting specs...
✓ 2026-01-24-001-x7m
✓ 2026-01-24-002-y8n
✗ 2026-01-24-003-z9o: Missing title
✗ 2026-01-24-004-a1p: Unknown dependency 'nonexistent-id'

Found 2 issues in 4 specs.
```

## Agent Output

2026-01-24T12:28:05Z

```
The `chant lint` command has been verified and all acceptance criteria are met:

1. **Lint subcommand added to CLI** - The `Lint` variant exists in the `Commands` enum (main.rs:75)
2. **YAML frontmatter validation** - Invalid YAML parsing errors are caught and reported (main.rs:410-419)
3. **Title check** - Missing `# heading` titles are detected (main.rs:428-430)
4. **depends_on references check** - Unknown dependency IDs are reported (main.rs:433-439)
5. **Issue reporting format** - All issues are reported with spec ID and description using the expected format (`✗ spec-id: issue description`)
6. **Exit code behavior** - Returns exit code 0 when all specs are valid, exit code 1 when issues are found (main.rs:452-463)

The implementation was already complete. I tested it with various invalid specs (missing title, invalid YAML, unknown dependency) and confirmed all validations work correctly. Committed the acceptance criteria checkoffs with message `chant(2026-01-24-00c-u3c): Check off acceptance criteria for lint command`.```
