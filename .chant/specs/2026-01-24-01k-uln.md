---
type: code
status: pending
depends_on:
  - 2026-01-24-01e-o0l
target_files:
- src/main.rs
---
# Test parallel execution with 01e subtasks - fix bugs, verify replay idempotency

Use the 01e-o0l subtasks (.1 through .5) to test `chant work --parallel` and verify replay idempotency.

## Test Plan

### Phase 1: Initial Parallel Run

```bash
# Run all 01e subtasks in parallel (respecting depends_on order)
chant work --parallel --label 01e
# Or if no label filter, manually:
chant work 01e-o0l.1
# Then after .1 completes:
chant work --parallel  # Should pick up .2, etc.
```

### Phase 2: Verify Completion

```bash
chant list | grep 01e
# All subtasks should be completed
chant show 01e-o0l
# Driver should be completed (all subtasks done)
```

### Phase 3: Test Replay Idempotency

```bash
# Replay a completed spec
chant work 01e-o0l.1 --force
# Should produce same result, no duplicate commits
# Spec should still be completed
```

## Bugs to Look For

1. **Race conditions** - Multiple specs modifying same files
2. **Finalization failures** - Specs stuck in_progress (the bug 01e fixes)
3. **Dependency ordering** - Does --parallel respect depends_on?
4. **Replay creates duplicates** - Multiple commits for same spec ID

## Acceptance Criteria

- [ ] Run 01e subtasks with --parallel
- [ ] All subtasks complete successfully
- [ ] Driver spec (01e-o0l) marked complete when subtasks done
- [ ] Replay with --force produces idempotent result
- [ ] No race conditions or corruption
- [ ] Document any bugs found
- [ ] All tests pass
