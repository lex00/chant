---
type: code
status: in_progress
---
# Fix CI: cargo tarpaulin reports "Test failed during run" despite all tests passing

## Problem

CI coverage job fails with:
```
test result: ok. 253 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out
Error: "Test failed during run"
```

All tests pass but tarpaulin returns exit code 1. This is a known tarpaulin bug related to instrumentation/cleanup.

## Solution

In `.github/workflows/ci.yml`, update the tarpaulin command:

```yaml
- name: Generate coverage
  run: cargo tarpaulin --out xml --skip-clean
```

The `--skip-clean` flag prevents tarpaulin from cleaning up intermediate files which can cause this false failure.

## Acceptance criteria

- [x] CI workflow passes (all badges green)