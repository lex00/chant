---
type: code
status: completed
target_files:
- src/mcp.rs
- docs/reference/mcp.md
commits:
- 3ebaaf1
completed_at: 2026-02-02T23:32:27Z
model: sonnet
---
# Add chant_verify MCP tool to check acceptance criteria

## Context

Agents need to verify their work meets acceptance criteria before finalizing. The CLI has `chant verify` but it's not exposed via MCP.

## Implementation

Add `chant_verify` tool:

```json
{
  "name": "chant_verify",
  "description": "Verify a spec meets its acceptance criteria",
  "inputSchema": {
    "type": "object",
    "properties": {
      "id": { "type": "string", "description": "Spec ID" }
    },
    "required": ["id"]
  }
}
```

**Response:**
```json
{
  "spec_id": "2026-02-02-001-xyz",
  "verified": true,
  "criteria": {
    "total": 5,
    "checked": 5,
    "unchecked": 0
  },
  "unchecked_items": [],
  "verification_notes": "All acceptance criteria met"
}
```

**On failure:**
```json
{
  "spec_id": "2026-02-02-001-xyz",
  "verified": false,
  "criteria": {
    "total": 5,
    "checked": 3,
    "unchecked": 2
  },
  "unchecked_items": [
    "- [ ] Tests added",
    "- [ ] Documentation updated"
  ],
  "verification_notes": "2 criteria not yet checked"
}
```

## Acceptance Criteria

- [x] `chant_verify` tool added to MCP server
- [x] Returns structured verification result
- [x] Lists unchecked criteria items
- [x] Documentation updated in mcp.md
- [x] Tests added

## Agent Output

2026-02-02T23:32:27Z

```
I'll implement the `chant_verify` MCP tool to check acceptance criteria.
## Summary

Added `chant_verify` MCP tool to src/mcp.rs:1514-1671 and updated documentation.

- Tool validates acceptance criteria checkboxes in spec body
- Returns structured JSON with checked/unchecked counts and items
- Updated tools list from 13 to 14 tools
- Added documentation section in docs/reference/mcp.md with examples
- Fixed clippy warning about collapsible if statement
- All tests passing```
