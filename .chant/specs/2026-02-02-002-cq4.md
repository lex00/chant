---
type: code
status: completed
commits:
- 0dc413f
completed_at: 2026-02-02T21:15:31Z
model: sonnet
---
# Add chant edit command - opens spec in $EDITOR

## Agent Output

2026-02-02T21:15:31Z

```
I'll implement the `chant edit` command. Let me start by reading the spec file to understand the requirements.
Let me read the complete file:
The spec appears incomplete. Let me check if there's more content or if this is a minimal spec. Let me look at the CLI structure to understand where to add the edit command:
Now let me look at an example of a similar command that reads a spec. The `Show` command looks like a good reference. Let me find where commands are handled:
Good! Now let me look at the cmd module structure:
Let me check what's in the spec module:
Perfect! I can see there's a `src/cmd/spec/` directory with various spec commands. Let me look at the show command as a reference:
Now let me look at the spec module's mod.rs to see how commands are exported:
Good! Now I understand the structure. I need to:
1. Add an `Edit` variant to the `Commands` enum in `main.rs`
2. Create a handler for it in the match statement
3. Create an `edit.rs` file in `src/cmd/spec/`
4. Export the `cmd_edit` function from `src/cmd/spec/mod.rs`

Let me check what editor environment variable is typically used and look for any existing examples:
Now let me create the edit command. First, I'll create the edit.rs file:
Now let me update the spec module to export this function:
Now I need to add the Edit variant to the Commands enum in main.rs. Let me find the right location:
Good, I'll add the Edit command right after Show. Now let me add it:
Now I need to add the handler in the match statement. Let me find where the commands are matched:
Let me search more specifically:
Perfect! Now I'll add the Edit command handler right after Show:
Now let me build the project to ensure everything compiles:
I need to check the Spec structure to see how to get the file path:
Now let me look at how other commands build the file path from the spec ID:
I see - the Spec doesn't have a filename field. Let me look at how other commands get the file path. Let me check how the delete command works:
Perfect! The file path is simply `{spec_id}.md`. Let me update the edit command:
Now let's build again:
Excellent! Now let's run cargo fmt and clippy:
Great! Now let's test the command:
Perfect! Now let me test it with an actual spec:
Excellent! The command works. Now let me mark the acceptance criteria in the spec:
The spec doesn't have any acceptance criteria listed. Since this is a minimal spec, I'll commit the changes:
## Summary

Implemented `chant edit` command to open specs in $EDITOR.

- Created `src/cmd/spec/edit.rs` with `cmd_edit` function
- Added `Edit` variant to `Commands` enum in `src/main.rs`
- Wired up command handler in main match statement
- Uses $EDITOR environment variable (falls back to vi/notepad)
- Resolves partial spec IDs like other commands
- Passes `cargo build`, `cargo fmt`, and `cargo clippy````
