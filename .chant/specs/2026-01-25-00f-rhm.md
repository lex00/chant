---
type: code
status: completed
depends_on:
- 2026-01-25-00d-47t
target_files:
- src/main.rs
- src/render.rs
- Cargo.toml
context:
- .chant/specs/2026-01-25-00d-47t.md
model: claude-haiku-4-5-20251001
---
# Implement markdown rendering for chant show using pulldown-cmark

## Overview

Add native markdown rendering to `chant show` so spec content displays with proper formatting (headings, bold/italic, code blocks, tables, lists) instead of raw markdown.

Based on research in spec 00d-47t.

## Implementation

### Dependencies

Add to Cargo.toml:
```toml
pulldown-cmark = "0.10"
```

Use existing `colored` crate for terminal output (already a dependency).

### New Module: src/render.rs

Create event-based markdown renderer that converts pulldown-cmark events to colored terminal output:

- **Headings** → bold, colored by level
- **Bold/Italic** → ANSI bold/italic
- **Code blocks** → dimmed background or distinct color
- **Inline code** → highlighted
- **Tables** → ASCII formatted
- **Lists** → proper indentation with bullets/numbers
- **Links** → text with URL in parentheses

### Integration Point

Modify `cmd_show()` in main.rs around line 623:

```rust
if std::io::stdout().is_terminal() && std::env::var("NO_COLOR").is_err() {
    render_markdown(&spec.body);
} else {
    println!("{}", spec.body);
}
```

### CLI Flag

Add `--no-render` flag to `chant show` to force raw output.

## Acceptance Criteria

- [x] Add pulldown-cmark dependency to Cargo.toml
- [x] Create src/render.rs with markdown-to-terminal renderer
- [x] Render headings with bold and color hierarchy
- [x] Render bold, italic, and inline code formatting
- [x] Render code blocks with distinct styling
- [x] Render bullet and numbered lists with proper indentation
- [x] Render tables in ASCII format
- [x] Integrate renderer into cmd_show() at line 623
- [x] Detect TTY and skip rendering when piping (stdout.is_terminal())
- [x] Respect NO_COLOR environment variable
- [x] Add --no-render flag to show command
- [x] Test with real specs in .chant/specs/
- [x] Run just check to ensure all tests pass