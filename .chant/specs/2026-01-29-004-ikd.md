---
type: task
status: pending
---

# Separate project config from user config

## Problem

.chant/config.md currently mixes project settings with user settings:

**Project settings** (should be in git, shared across team):
- defaults: prompt, branch, branch_prefix, model
- enterprise: derived_fields, schema
- approval: reviewers, required_approvals
- git: ignore_patterns

**User settings** (should NOT be in git, user-specific):
- parallel.agents: list with personal API keys/accounts
  Example: agents[0].command = "claude --profile personal"
- Personal model preferences
- Local paths

## Current Issues

1. **Security**: Agent configs may contain API keys/tokens
2. **Not portable**: Different users have different agent setups
3. **Conflicts**: Users overwrite each other's agent configs
4. **Confusion**: Is .chant/config.md for project or user?

## Investigation Needed

Evaluate options:

### Option 1: Split config files
- .chant/config.md (project, in git)
- .chant/agents.md (user, in .gitignore)
- Merge at runtime

### Option 2: Global + Local pattern
- ~/.config/chant/config.md (user global)
- .chant/config.md (project only, no agents)
- Project can't see user's agents

### Option 3: Local override pattern
- .chant/config.md (project, in git)
- .chant/config.local.md (user, ignored, overrides)
- Similar to .env / .env.local pattern

### Option 4: Example file pattern
- .chant/config.example.md (in git, template)
- .chant/config.md (in .gitignore, user copies example)
- Users must customize locally

## Questions to Answer

1. Should chant init add config.md to .gitignore by default?
2. Where should agent configs live?
3. How do we migrate existing users?
4. What's the least disruptive change?
5. Can we detect secrets in config and warn?
6. Should we support config inheritance/merging?

## Expected Outcome

A clear design for separating concerns with:
- Migration path for existing users
- Documentation for new users
- Implementation plan
