---
type: code
status: in_progress
target_files:
- src/repository/git_repository.rs
branch: chant/2026-02-04-00k-901
---
# Create GitRepository trait

## Problem

`src/git.rs` uses direct Command::new("git") calls making it hard to test git-dependent code.

## Solution

Add `GitRepository` trait to `src/repository/` with methods wrapping common git operations.

## Acceptance Criteria

- [x] Create `src/repository/git_repository.rs` with `GitRepository` trait defining: `get_current_branch(&self) -> Result<String>`, `branch_exists(&self, name: &str) -> Result<bool>`
- [x] Create `CommandGitRepository` struct implementing `GitRepository` using `Command::new("git")`
- [x] Add `pub mod git_repository;` to `src/repository/mod.rs`
- [x] Run `cargo build` and confirm zero errors