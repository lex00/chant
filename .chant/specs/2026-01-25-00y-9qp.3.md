---
type: code
status: pending
depends_on:
- 2026-01-25-00y-9qp.2
target_files:
- src/cmd/spec.rs
- src/main.rs
---
# Extract spec commands to src/cmd/spec.rs

Move spec management commands into a dedicated module. These commands share common formatting utilities and spec display logic.

### Acceptance Criteria

- [ ] All spec command functions moved to `src/cmd/spec.rs`:
  - `cmd_add()`
  - `cmd_list()`
  - `cmd_show()`
  - `cmd_ready()`
  - `cmd_lint()`
  - `cmd_status()`
  - `cmd_delete()`
  - `format_yaml_value()`
  - `key_to_title_case()`
  - All spec display/formatting utilities
- [ ] Public API clearly defined with pub fn for each command
- [ ] `src/main.rs` dispatches Commands::Add, Commands::List, etc. to `cmd::spec` functions
- [ ] Helper formatting functions are private to cmd::spec
- [ ] `just check` passes
- [ ] Spec file parsing still works correctly (cmd::spec reads from spec files)

### Edge Cases

- **Spec file I/O**: Ensure spec file reading/writing still works from new module location
- **Formatting consistency**: Verify YAML value formatting matches original output exactly
- **Label filtering**: Check that list filtering by labels still works correctly
- **Ready spec detection**: Verify `cmd_ready()` logic is fully migrated and dependency detection works

### Example Test Cases

For spec commands, verify:
- `cmd_list()` output format unchanged
- `cmd_show()` displays spec details identically to before
- `cmd_add()` creates new spec files in correct location
- Spec deletion works without leaving orphaned files
- Label filtering in list produces same results as before