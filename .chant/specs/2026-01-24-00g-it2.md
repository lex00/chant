---
type: code
status: completed
target_files:
- src/main.rs
commit: 152671b
completed_at: 2026-01-24T11:07:02Z
---
# Validate acceptance criteria are checked before marking spec complete

Before marking a spec as completed, validate that all acceptance criteria checkboxes are checked.

## Acceptance Criteria

- [ ] Parse spec body for unchecked checkboxes (`- [ ]`)
- [ ] If any unchecked boxes exist, warn and ask for confirmation or fail
- [ ] Only check this when the agent exits successfully (before marking complete)
- [ ] Add a `--force` flag to skip this validation if needed

## Implementation Notes

- Checkboxes in markdown are `- [ ]` (unchecked) and `- [x]` or `- [X]` (checked)
- Search the spec body for the pattern `- [ ]`
- If found, print warning with count and either fail or prompt
- This happens in `cmd_work` after successful agent execution, before setting status to completed