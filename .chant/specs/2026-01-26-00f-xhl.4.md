---
type: code
status: pending
depends_on:
- 2026-01-26-00f-xhl.3
target_files:
- src/replay.rs
- src/git.rs
---
# Add replay commit message formatting

Implement the special commit message format for replay commits: `chant(<id>): replay - <title>`, with additional metadata about original completion date and replay reason in the commit body.

### Acceptance Criteria

- [ ] Commit message follows `chant(<id>): replay - <title>` format
- [ ] Commit body includes "Original completion: <date>"
- [ ] Commit body includes "Replay reason: <reason>" (default: "manual")
- [ ] Commit format matches existing chant commit conventions
- [ ] Replay commits are distinguishable from original work commits

### Edge Cases

- Very long spec titles: Should truncate appropriately for commit message limits
- Special characters in title: Should escape or sanitize properly
- Multiple replays: Each commit should be identifiable with timestamp
- Git commit hooks: Should work with existing pre-commit hooks

### Example Test Cases

For this feature, verify:
- First line: `chant(2026-01-26-00f-xhl): replay - Add feature X`
- Body includes: "Original completion: 2026-01-15T15:00:00Z"
- Body includes: "Replay reason: manual"
- Commit message passes linting if enabled