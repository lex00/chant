---
type: code
status: in_progress
labels:
- refactor
- utilities
target_files:
- src/git.rs
- src/cmd/spec.rs
- src/cmd/template.rs
- src/cmd/derive.rs
---
# Extract Git utilities to src/git.rs

## Problem

Git config reading code is duplicated in 3 files:
- `src/cmd/spec.rs` (lines ~54-71)
- `src/cmd/template.rs` (lines ~315-330)
- `src/cmd/derive.rs` (lines ~90-107)

Each file has its own implementation of reading git user.name and user.email config values.

## Solution

Add utility functions to `src/git.rs` and update all callers to use them. This consolidates the duplicated code into a single location.

## Acceptance Criteria

- [x] Add `get_git_config(key: &str) -> Option<String>` to `src/git.rs`
- [x] Add `get_git_user_info() -> (Option<String>, Option<String>)` to `src/git.rs`
- [x] Update `src/cmd/spec.rs` to use new utilities
- [x] Update `src/cmd/template.rs` to use new utilities
- [x] Update `src/cmd/derive.rs` to use new utilities
- [x] Remove duplicated code from all three files
- [x] All tests pass