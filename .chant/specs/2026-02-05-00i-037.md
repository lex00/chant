---
type: code
status: completed
branch: chant/2026-02-05-00i-037
commits:
- cb26a5c
completed_at: 2026-02-05T19:58:40Z
model: sonnet
---
# Fix chant observability - status/logs/processes must be consistent and accurate. Problems: (1) `chant list --status in_progress` lies, (2) MCP tools return stale data, (3) process tracking shows 0 when workers running, (4) watch reports false completions, (5) spec status doesn't match reality. Fixes: (A) spec file status is single source of truth, (B) create log file immediately when work starts, (C) add `chant status <id>` showing spec status + log exists + log mtime + worktree + branch, (D) MCP reads fresh from disk with no caching, (E) `chant list --status in_progress` verifies active log writes not just frontmatter, (F) remove or fix broken `chant_work_list`, (G) watch only reports completion after verifying commit exists.

## Acceptance Criteria

- [x] Fix B: Log file is created immediately when work starts (single.rs, parallel.rs, chain.rs)
- [x] Fix B: StreamingLogWriter appends to existing log files instead of overwriting
- [x] Fix C: `chant diagnose <id>` shows branch when in_progress
- [x] Fix C: `chant diagnose <id>` shows log file modification time
- [x] Fix C: Fixed log file path in diagnose (was .chant/.store, now .chant/logs)
- [x] Fix D: MCP handlers read fresh data (verified - no caching exists)
- [x] Fix E: `chant list --status in_progress` uses frontmatter as single source of truth
- [x] Fix F: `chant_work_list` MCP tool fixed to check spec status + log files instead of stale process tracking
- [x] Fix G: `is_completed()` verifies commit exists before reporting completion
- [x] Code compiles without errors
- [x] Code formatted with cargo fmt
- [x] No clippy warnings