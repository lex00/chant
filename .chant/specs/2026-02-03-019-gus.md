---
type: code
status: in_progress
---
# Feature: Add `chant silent` command for easy silent mode management

## Summary
Add a new `chant silent` command that makes it trivial to switch to/from silent mode at any point in a project's lifecycle, plus support global default via config.

## Implementation

### New command: `chant silent`
```bash
chant silent           # Enable silent mode for current project
chant silent --global  # Enable globally (all new/existing projects)
chant silent --off     # Disable for current project
chant silent --off --global  # Disable globally
chant silent --status  # Show current silent mode status
```

### What enabling silent mode does:
1. Sets `silent: true` in `.chant/config.yaml`
2. Adds `.chant/` to `.git/info/exclude` (if git repo)
3. Removes `.chant/` from `.gitignore` if present
4. Removes `.chant/` from `.git/info/exclude` when disabling

### Behavior changes when silent mode is active:
- Suppress warnings about untracked spec files
- Don't suggest "commit your specs" or similar
- Don't show git status warnings related to `.chant/`
- Skip git-related validations for `.chant/` directory

### Config support:
```yaml
# ~/.config/chant/config.yaml (global)
silent: true

# .chant/config.yaml (project - overrides global)
silent: false
```

### Config precedence:
1. Project config `.chant/config.yaml` (highest)
2. Global config `~/.config/chant/config.yaml`
3. Default: false (lowest)

## Acceptance Criteria

- [x] Add `silent` subcommand to CLI
- [x] Implement --global flag for global config
- [x] Implement --off flag to disable
- [x] Implement --status flag to show current state
- [x] Auto-manage `.git/info/exclude` entries
- [x] Auto-remove from `.gitignore` when enabling
- [x] Add `silent` field to config parsing
- [x] Suppress git warnings throughout codebase when silent mode active
- [x] Update docs with silent mode usage (deferred to spec 018-sde)

## Output

Implementation complete except for documentation.

The `chant silent` command is now fully functional:
- Enables/disables silent mode for project or globally
- Manages .git/info/exclude automatically
- Removes .chant/ from .gitignore when enabling
- Silent mode suppresses warnings via is_quiet()
- CHANT_QUIET env var still works for backwards compatibility

Remaining work: Update documentation to explain the new command.

## Updated: Consolidate silent and quiet modes

### Current state (confusing):
- `--silent` on init: keeps `.chant/` out of git
- `--quiet/-q` global flag: suppresses non-essential output
- Two similar names, two different things

### New unified design:

**One concept: `silent` mode**

When silent mode is enabled:
1. **Git behavior**: `.chant/` stays local (via `.git/info/exclude`)
2. **Output behavior**: Suppress warnings, suggestions, and non-essential messages
3. **No nagging**: Don't suggest committing specs, don't warn about untracked files

**Deprecate `--quiet`**: 
- Keep `-q/--quiet` as alias for backwards compatibility
- Document as deprecated, point to `chant silent`

**Commands:**
```bash
chant silent              # Enable for project
chant silent --global     # Enable globally  
chant silent --off        # Disable
```

**Updated acceptance criteria:**
- [x] Consolidate quiet/silent into single `silent` mode
- [x] Deprecate --quiet flag (keep as hidden alias)
- [x] Remove CHANT_QUIET env var (or make it set silent mode)
- [x] Silent mode controls both git behavior AND output verbosity