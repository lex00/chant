---
type: code
status: pending
depends_on:
  - 2026-01-26-00g-165
---

# Add chant cancel command to soft-delete specs - sets status to cancelled, preserves spec file and history

## Acceptance Criteria

- [x] Add `Cancel` variant to `Commands` enum in `main.rs`
- [x] Implement `cmd_cancel` function in `src/cmd/spec.rs`
- [x] Wire up cancel command handler in `main.rs` match statement
- [x] Cancel command accepts a spec ID (full or partial)
- [x] Cancel command sets spec status to `cancelled` in the spec file
- [x] Cancel command preserves the spec file (soft-delete)
- [x] Cancel command preserves git history and branch
- [x] Cancel command supports `--force` flag to cancel non-pending specs
- [x] Cancel command supports `--dry-run` flag to preview changes
- [x] Cancel command asks for confirmation before cancelling
- [x] Cancel command shows cancelled spec in output
- [x] All tests pass
- [x] Code formatted and linted
- [x] Changes committed with proper message
