---
type: task
status: in_progress
model: claude-opus-4-5-20251101
target_files:
- docs/guides/oss-maintainer-workflow/index.md
- docs/guides/oss-maintainer-workflow/01-triage.md
- docs/guides/oss-maintainer-workflow/02-reproduction.md
- docs/guides/oss-maintainer-workflow/03-research.md
- docs/guides/oss-maintainer-workflow/04-implementation.md
- docs/guides/oss-maintainer-workflow/05-review.md
- docs/guides/oss-maintainer-workflow/06-documentation.md
- docs/guides/oss-maintainer-workflow/07-release.md
- docs/guides/oss-maintainer-workflow/08-advanced.md
- docs/guides/oss-maintainer-workflow/09-example.md
- .chant/prompts/triage.md
- .chant/prompts/reproduce.md
- .chant/prompts/research.md
- .chant/prompts/implement.md
- .chant/prompts/review.md
- .chant/prompts/document.md
---
# Create open source maintainer workflow guide

## Goal

Create a comprehensive multi-page guide for open source maintainers showing how to use chant for a research-driven issue resolution workflow. This guide should demonstrate how to break down issue resolution into well-scoped specs that build on each other.

## Background

Open source maintainers face a common challenge: incoming issues require deep investigation before implementation. A hasty fix without proper root cause analysis often leads to incomplete solutions, regressions, or missed edge cases.

The chant workflow enables a research-first approach:
1. **Research specs** - Deep investigation to understand the root cause
2. **Code specs** - Informed implementation based on research findings
3. Additional supporting specs for reproduction, review, documentation, release notes

## Guide Structure

Create a new directory: `docs/guides/oss-maintainer-workflow/`

### Page Breakdown

#### `index.md` - Overview
- Why use chant for OSS maintenance
- Key benefits: auditability, research-driven development, reproducibility
- Workflow stages overview (1-paragraph summary of each)
- Quick start example
- Link to full walkthrough

#### `01-triage.md` - Issue Triage
- Assess incoming issues before deep work
- Categorize: bug, feature, documentation, question, duplicate
- Determine priority/severity
- Use specs to generate clarifying questions (GitHub comment templates)
- Example: lightweight triage spec that outputs "needs-reproduction" or "ready-for-research"
- When to close/defer vs. proceed

#### `02-reproduction.md` - Reproduction Case
- Create minimal reproduction before research
- Write failing test that demonstrates the bug
- Validate user's report
- Document environment/version details
- Output becomes `informed_by` for research spec
- Example: reproduction spec that produces failing test case

#### `03-research.md` - Root Cause Analysis
**This is the core "research spec" concept from user's request**
- Deep dive into codebase to understand the issue
- Custom prompt: `prompts/research.md` with instructions for thorough investigation
- Use `informed_by:` to reference:
  - Reproduction spec output
  - Relevant local documentation
  - Source files that represent the problem
- Output: comprehensive root cause analysis write-up
- Include: affected components, why bug exists, potential approaches, trade-offs
- Example: research spec that produces detailed RCA document

#### `04-implementation.md` - Code Implementation
**This is the "code spec" concept from user's request**
- Context: Output from research spec
- Instructions to carefully consider root cause before coding
- Minimal yet clear tests that prove the fix works
- Don't over-engineer - solve the specific problem
- Write clear inline comments for complex logic
- Update relevant documentation
- Add release notes section
- Example: implementation spec with `informed_by: research-spec-id`

#### `05-review.md` - Validation and Approval
- Independent review spec (separate agent execution)
- Verify fix solves original issue from reproduction
- Check for regressions (run full test suite)
- Validate test coverage
- Use approval workflow to gate merge
- Example: review spec with approval requirement

#### `06-documentation.md` - Documentation Specs
**Documentation as first-class specs using `type: documentation`**
- When to use `type: documentation` vs `type: code` with doc changes
- Using `chant drift` to detect outdated documentation
- Documentation spec workflow: drift detection → research → update
- Types of documentation specs:
  - **Drift fixes**: Update docs that are out of sync with code
  - **API documentation**: Document new/changed APIs from implementation
  - **User guides**: Write guides for new features (separate from code spec)
  - **Migration guides**: Breaking change documentation
  - **Troubleshooting**: Add FAQ entries, debugging guides
  - **Release notes**: Changelog entries as documentation specs
- Using `informed_by` to reference implementation specs
- Example: documentation spec with drift detection output
- Example: documentation spec informed by implementation
- Integration with code specs: when to bundle vs separate

#### `07-release.md` - Release Coordination
- Aggregate multiple fixes into release notes
- User-friendly descriptions (not just commit messages)
- Highlight breaking changes
- Document deprecations
- Version number considerations (SemVer)
- Example: release notes spec that collects multiple fixes

#### `08-advanced.md` - Advanced Patterns
- **Security issues**: Private spec handling, CVE workflow, coordinated disclosure
- **Breaking changes**: Special labels, deprecation period, SemVer implications
- **Performance issues**: Benchmarking specs, profiling results as `informed_by`
- **Multi-spec dependencies**: Group specs, label-based organization (`--label issue-1234`)
- **Spec relationships**: `informed_by`, `depends_on` for complex changes
- **Parallel execution**: Work multiple issues concurrently with `--parallel --label v0.7.0`

#### `09-example.md` - Complete Walkthrough
- Real-world example from start to finish
- Show actual spec files, prompts, commands
- Include agent output examples
- Demonstrate research → implementation → review flow
- Show how specs build on each other with `informed_by`
- Timeline: from issue report to merged PR

## Custom Prompts

Create these prompt files in `.chant/prompts/`:

### `triage.md`
```markdown
You are an open source project maintainer triaging a new issue.

Your goal is to:
1. Assess the issue quality and completeness
2. Categorize: bug, feature, documentation, question, duplicate
3. Determine priority (critical, high, medium, low) and severity
4. Identify missing information

Output:
- Clear categorization and priority assessment
- List of clarifying questions (formatted as GitHub comment)
- Recommendation: close, defer, needs-reproduction, or ready-for-research
```

### `reproduce.md`
```markdown
You are creating a minimal reproduction case for a reported issue.

Your goal is to:
1. Create the smallest possible test case that demonstrates the bug
2. Write a failing test (use project's test framework)
3. Document exact environment/version details
4. Validate that the reproduction matches the user's report

Output:
- Failing test file that proves the bug exists
- Reproduction steps documented in comments
- Environment details (OS, versions, config)
- Confirmation that bug is reproducible
```

### `research.md`
```markdown
You are conducting deep root cause analysis for an issue.

Your goal is to:
1. Thoroughly explore the codebase to understand WHY the issue exists
2. Trace code paths, identify affected components
3. Read relevant local documentation and source files
4. Consider historical context (git blame, related commits)
5. Identify potential approaches and their trade-offs

Instructions:
- Read extensively before forming conclusions
- Use informed_by to reference reproduction specs, docs, source files
- Be thorough - this analysis will guide implementation
- Document your reasoning clearly for future implementers

Output:
- Comprehensive root cause analysis
- Affected components and why
- 2-3 potential approaches with trade-offs
- Recommended approach with justification
- Files that need modification
- Edge cases to consider
```

### `implement.md`
```markdown
You are implementing a fix based on thorough root cause analysis.

Your goal is to:
1. Carefully review the research spec output (informed_by)
2. Implement the recommended approach
3. Write minimal yet clear tests that prove the fix works
4. Don't over-engineer - solve the specific problem
5. Add clear comments for non-obvious logic
6. Update relevant documentation

Instructions:
- Start by reading the research spec's recommended approach
- Verify the failing test from reproduction spec now passes
- Run full test suite to check for regressions
- Keep changes focused - don't refactor unrelated code
- Add a "Release Notes" section in the spec describing user impact

Output:
- Working fix with passing tests
- All tests passing (including reproduction test)
- Documentation updates
- Release notes section in spec
```

### `review.md`
```markdown
You are conducting an independent review of a proposed fix.

Your goal is to:
1. Verify the fix solves the original issue (check reproduction spec)
2. Check for regressions (run full test suite)
3. Validate test coverage is adequate
4. Review code quality and maintainability
5. Ensure documentation is updated

Instructions:
- Start by reading the original issue and reproduction spec
- Verify the previously-failing test now passes
- Run full test suite and check for unexpected failures
- Read the implementation for clarity and correctness
- Check that edge cases from research spec are handled

Output:
- Approval/rejection decision with clear reasoning
- List of any issues found
- Suggestions for improvement (if any)
```

### `document.md`
```markdown
You are writing user-facing documentation for a fix or feature.

Your goal is to:
1. Update guides, API docs, and examples
2. Write migration guides for breaking changes
3. Add troubleshooting entries if relevant
4. Update FAQ if needed
5. Ensure examples are clear and correct

Instructions:
- Review the implementation spec to understand what changed
- Write for users, not implementers (focus on what, not how)
- Include code examples where helpful
- Highlight breaking changes prominently
- Update table of contents and cross-references

Output:
- Updated documentation files
- Migration guide (if breaking changes)
- Code examples demonstrating the change
```

## Additional Documentation Sections

### In `03-research.md`, add section on:
**Using informed_by for Research**
```yaml
---
type: task
informed_by:
- .chant/specs/issue-1234-reproduction.md
- docs/architecture/state-management.md
- src/state/store.rs
- src/state/mutations.rs
---
```
Explain how to reference prior specs, docs, and source files so the research agent has full context.

### In `04-implementation.md`, add section on:
**Connecting Research to Implementation**
```yaml
---
type: code
informed_by:
- .chant/specs/issue-1234-research.md
target_files:
- src/state/store.rs
---
```
Show how the code spec references the research output as its primary context.

### In `06-documentation.md`, add sections on:

**When to Use `type: documentation`**
- Use `type: documentation` when:
  - Updating docs based on drift detection
  - Writing standalone user guides or tutorials
  - Creating migration guides after breaking changes
  - Adding troubleshooting entries
  - Writing release notes or changelog entries
- Use `type: code` with doc updates when:
  - Docs are tightly coupled to code changes (same PR)
  - Inline code comments or docstrings
  - Small doc fixes alongside bug fixes

**Drift Detection Workflow**
```bash
# Detect outdated documentation
chant drift

# Output shows docs that reference changed code:
# docs/api/state.md references src/state/store.rs (modified 3 days ago)

# Create documentation spec to fix drift
chant add "Update state management docs for new API" --type documentation
```

**Documentation Spec Example**
```yaml
---
type: documentation
status: ready
target_files:
- docs/api/state.md
- docs/guides/mutations.md
informed_by:
- .chant/specs/2026-01-29-004-abc.md  # Implementation spec
- src/state/store.rs  # New API to document
labels:
- docs-drift
- v0.7.0
---

# Update state management documentation

## Context
The state store API changed in spec 004-abc to support async mutations.
The documentation still describes the old synchronous API.

## Tasks
- Update docs/api/state.md with new async mutation API
- Add examples of async mutation usage
- Update migration guide with breaking changes
- Add troubleshooting section for common async issues
```

**Types of Documentation Specs**
1. **Drift fixes**: `chant drift` → spec to update outdated docs
2. **API docs**: Document new APIs after implementation
3. **User guides**: Tutorials, how-tos (standalone from code)
4. **Migration guides**: Breaking change documentation
5. **Troubleshooting**: FAQ entries, debugging guides
6. **Release notes**: Changelog as documentation specs

**Documentation Spec Workflow**
```bash
# 1. Detect drift
chant drift

# 2. Create documentation spec
chant add "Fix drift in state management docs" --type documentation

# 3. Reference implementation in informed_by
# Edit spec to add:
# informed_by:
# - .chant/specs/2026-01-29-004-abc.md
# - src/state/store.rs

# 4. Work the documentation spec
chant work <doc-spec-id> --prompt document

# 5. Review and merge
chant approve <doc-spec-id> --by "reviewer-name"
chant merge --all
```

### In `08-advanced.md`, add section on:
**Label-Based Organization**
```bash
# Label all specs for issue #1234
chant work --parallel --label issue-1234

# Target specific release
chant work --parallel --label v0.7.0

# Work breaking changes carefully
chant list --label breaking --status ready
```

## Examples to Include

### Minimal example in `index.md`:
```bash
# 1. Triage
chant add "Triage issue #1234: Data loss on concurrent writes" --prompt triage
chant work <triage-spec-id>

# 2. Reproduction
chant add "Reproduce issue #1234" --prompt reproduce
# Edit spec to add: informed_by: [triage-spec-id]
chant work <repro-spec-id>

# 3. Research
chant add "Research root cause: issue #1234" --prompt research
# Edit spec to add: informed_by: [repro-spec-id, relevant docs/source]
chant work <research-spec-id>

# 4. Implementation
chant add "Fix issue #1234: Use locking for concurrent writes" --prompt implement
# Edit spec to add: informed_by: [research-spec-id]
chant work <impl-spec-id>

# 5. Review
chant add "Review fix for issue #1234" --prompt review
chant work <review-spec-id>
chant approve <impl-spec-id> --by "maintainer-name"

# 6. Documentation (if needed)
chant drift  # Check for doc drift
chant add "Document concurrent write locking API" --type documentation --prompt document
# Edit spec to add: informed_by: [impl-spec-id]
chant work <doc-spec-id>

# 7. Merge
chant merge --all
```

## Acceptance Criteria

- [x] Create directory structure: `docs/guides/oss-maintainer-workflow/`
- [x] Write `index.md` with overview, benefits, workflow stages, quick start
- [x] Write `01-triage.md` with issue assessment workflow
- [x] Write `02-reproduction.md` with minimal reproduction approach
- [x] Write `03-research.md` with deep root cause analysis workflow (core user request)
- [x] Write `04-implementation.md` with informed implementation approach (core user request)
- [x] Write `05-review.md` with validation and approval workflow
- [x] Write `06-documentation.md` with documentation specs (`type: documentation`)
  - [x] Include when to use `type: documentation` vs `type: code`
  - [x] Include drift detection workflow with `chant drift`
  - [x] Include documentation spec examples with `informed_by`
  - [x] Include types of documentation specs (drift, API docs, guides, migration, troubleshooting)
  - [x] Include documentation spec workflow example
- [x] Write `07-release.md` with release coordination workflow
- [x] Write `08-advanced.md` with security, breaking changes, performance, dependencies
- [x] Write `09-example.md` with complete real-world walkthrough
- [x] Create `prompts/triage.md` with triage agent instructions
- [x] Create `prompts/reproduce.md` with reproduction agent instructions
- [x] Create `prompts/research.md` with research agent instructions (core user request)
- [x] Create `prompts/implement.md` with implementation agent instructions (core user request)
- [x] Create `prompts/review.md` with review agent instructions
- [x] Create `prompts/document.md` with documentation agent instructions
- [x] Include examples of `informed_by` usage throughout
- [x] Include examples of label-based organization
- [x] Link to new guide from main documentation index
- [x] All markdown files follow existing docs style/formatting
- [x] Code examples are tested and correct