---
type: code
status: completed
target_files:
- src/main.rs
commits:
- '2105622'
completed_at: 2026-01-31T21:43:23Z
model: sonnet
---
# Make chant archive auto-commit by default

## Problem

`chant archive` stages files but doesn't commit because `--commit` defaults to false. Users must run `chant archive --commit` explicitly.

## Solution

Change `--commit` to default to true. Add `--no-commit` flag for those who want to skip.

## Acceptance Criteria

- [x] Change `--commit` to default true (use `default_value = "true"`)
- [x] Add `--no-commit` flag that sets commit to false
- [x] Archive command auto-commits by default

## Agent Output

2026-01-31T21:43:23Z

```
I'll implement the changes to make `chant archive` auto-commit by default.
## Summary

Changed `src/main.rs` to make `chant archive` auto-commit by default.

- Set `--commit` flag to default to `true` using `default_value = "true"`
- Added `--no-commit` flag that conflicts with `commit` to allow users to skip commits
- Updated archive command handler to compute `should_commit = commit && !no_commit`

All tests pass. Git status is clean.```
