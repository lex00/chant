---
type: documentation
status: completed
target_files:
- docs/reference/git.md
- docs/concepts/deps.md
- docs/scale/observability.md
- docs/concepts/lifecycle.md
commits:
- 3a827dc
completed_at: 2026-01-29T00:23:55Z
model: opus
---
# Fix documentation accuracy issues from audit

## Problem

Documentation audit found 20 discrepancies where docs describe commands/flags/features that don't exist or differ from implementation. This creates confusion and broken workflows for users.

## Solution

### 1. Move to Planning Section (Not Yet Implemented)

Create `docs/planning/` directory for features under consideration:

- **Git hooks automation** - consolidate git.md hook examples, mark as planned
- **`chant lint --files`** - potentially useful, needs design
- **`chant report`** - team analytics, needs design
- **`decisions:` frontmatter field** - needs behavior investigation
- **Spec templates system** - needs design decision on templating approach

### 2. Remove from Docs (Covered by Existing Commands)

- **`chant deps`** → Use `chant show` (already shows depends_on)
- **`chant history`** → Use `chant show` (shows spec timeline)
- **`chant failures`** → Use `chant list --status failed`
- **`chant split --then`** → Just use two commands: `chant split 001 && chant work ...`
- **Cleanup subcommands** (`clones`, `branches`) → Auto cleanup is sufficient

### 3. Fix `chant show` Behavior

**Current**: Shows full markdown body by default
**New**: Show frontmatter summary by default

```bash
$ chant show 001
ID: 2026-01-29-001-bcb
Title: Fix documentation accuracy issues
Type: documentation
Status: pending
Target Files:
  - docs/reference/git.md
  - docs/concepts/deps.md
```

Add `--body` flag to show full content:
```bash
$ chant show 001 --body
# (full markdown content)
```

### 4. Critical Fixes in docs/reference/git.md

Remove non-existent commands/flags:
- Line 117: `chant update "$spec_id" --commit` (command doesn't exist)
- Line 131: `chant show "$spec_id" --format status` (flag doesn't exist)
- Line 191: `chant init --install-merge-driver` (flag doesn't exist)

Fix git hooks examples to use actual commands or mark as aspirational.

## Acceptance Criteria

- [x] Create `docs/planning/` directory
- [x] Move git hooks, lint --files, report, decisions, templates to planning/
- [x] Remove `chant deps` references from docs/concepts/deps.md
- [x] Remove `chant history` references from docs/scale/observability.md
- [x] Remove `chant failures` references from docs/scale/observability.md
- [x] Remove `chant split --then` from docs/concepts/deps.md
- [x] Remove cleanup subcommands from docs/concepts/lifecycle.md
- [x] Update `chant show` in src/cmd/spec.rs to show frontmatter by default
- [x] Add `--body` flag to `chant show` for full content
- [x] Fix docs/reference/git.md to remove non-existent commands
- [x] Update README.md if it references any removed commands
- [x] All tests passing
- [x] Code linted and formatted

## Agent Output

2026-01-29T00:23:55Z

```
I'll start by reading the spec file and understanding what needs to be done, then systematically work through the acceptance criteria.
Let me read the relevant source files to understand the current state before making changes.
Now let me read the source code for `chant show` to understand the current implementation and then read the README.md.
The README looks clean and doesn't reference any of the removed commands. Let me search for the `show` command in the spec.rs file to understand the current implementation.
Let me look at the show command specifically around line 1522 and examine its structure.
Now I understand the current `cmd_show` function. It shows frontmatter fields and then always shows the body. I need to modify it to show only frontmatter summary by default and add a `--body` flag to show the full content.

Let me check the CLI argument parsing for the show command.
Let me find where the Show command is defined.
Now I have the full picture. Let me start implementing the changes. First, let me start with creating the planning directory and moving the planned features there, then update the documentation files, and finally update the code.
Now let me update the documentation files to remove references to non-existent commands. Let me start with fixing docs/concepts/deps.md.
Looking at the deps.md file, I need to:
1. Remove the `chant deps` section (lines 158-166)
2. Remove the `chant split --then` (lines 82-94)
Now let me fix docs/scale/observability.md - remove `chant history` and `chant failures` references.
Now let me fix docs/concepts/lifecycle.md to remove cleanup subcommands.
Now let me update the source code. I need to modify `chant show` to show frontmatter by default and add a `--body` flag.
Now update the call site:
Now update the cmd_show function in spec.rs:
Now let me fix docs/reference/git.md to remove non-existent commands. According to the spec, I need to fix:
- Line 117: `chant update "$spec_id" --commit` (command doesn't exist)
- Line 131: `chant show "$spec_id" --format status` (flag doesn't exist)
- Line 191: `chant init --install-merge-driver` (flag doesn't exist)
Now I need to fix the git.md file. Let me make the edits:

1. Remove `chant lint --files` from pre-commit hook (non-existent flag)
2. Remove `chant update "$spec_id" --commit` from post-commit hook (non-existent command)
3. Remove `chant show "$spec_id" --format status` from pre-push hook (non-existent flag)
4. Remove `chant init --install-merge-driver` (non-existent flag)
5. Update the "What Hooks Don't Do" table that references `chant update --commit`
The README.md doesn't reference any of the removed commands (I checked earlier). Now let me run the tests and lint.
Let me check the end of the test output.
All tests pass. Let me now update the spec file to mark the acceptance criteria as complete.
Now let me update the spec file to mark the acceptance criteria as complete.
Now let me commit the changes.
All changes have been committed. Let me provide a summary of what was done:

## Summary

I completed all acceptance criteria for fixing documentation accuracy issues from the audit:

### Created docs/planning/ directory
Created a new directory with 6 files documenting planned features:
- `README.md` - Overview of planned features
- `git-hooks.md` - Git hooks automation (planned)
- `lint-files.md` - `chant lint --files` flag (planned)
- `report.md` - `chant report` for team analytics (planned)
- `decisions.md` - `decisions:` frontmatter field (planned)
- `templates.md` - Spec template system (planned)

### Documentation Fixes
- **docs/concepts/deps.md**: Removed `chant deps` command and `chant split --then` references
- **docs/scale/observability.md**: Removed `chant history` and `chant failures` commands, replaced with existing alternatives
- **docs/concepts/lifecycle.md**: Removed `chant cleanup branches` and `chant cleanup clones` subcommand references
- **docs/reference/git.md**: Fixed 4 non-existent commands/flags:
  - Removed `chant lint --files` 
  - Removed `chant update "$spec_id" --commit`
  - Removed `chant show "$spec_id" --format status`
  - Removed `chant init --install-merge-driver`

### Code Changes
- Updated `chant show` in `src/cmd/spec.rs` and `src/main.rs`:
  - Shows frontmatter summary by default (not full body)
  - Added `--body` flag to show full spec content

### Verification
- All 308 unit tests pass
- All 37 integration tests pass
- Code formatted with `cargo fmt`
- No clippy warnings```
