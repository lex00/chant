---
type: code
status: pending
depends_on:
- 2026-01-26-00e-lb2.3
target_files:
- src/main.rs
- src/spec.rs
---
# Implement spec filtering logic for verify command

Implement the logic to select which specs to verify based on arguments: specific ID, `--all` for all completed specs, or `--label` for labeled completed specs. This does not execute verification, only filters and lists specs that would be verified.

### Acceptance Criteria

- [x] `chant verify 001` loads spec with ID "001" and validates it has status completed
- [x] `chant verify --all` loads all specs with status completed
- [x] `chant verify --label foo` loads all completed specs with label "foo"
- [x] Error displayed if specified spec ID doesn't exist or is not completed
- [x] `just test` includes test cases for filtering logic

### Edge Cases

- Spec exists but status is not completed: Should error with message "Spec 001 is not completed (status: pending)"
- No completed specs exist: Should display "No completed specs to verify"
- Label doesn't match any specs: Should display "No completed specs with label 'foo'"
- Spec ID is ambiguous (partial match): Should use existing ID resolution logic from other commands

### Example Test Cases

For this feature, verify:
- Filter with specific ID returns only that spec if completed
- Filter with `--all` returns multiple completed specs
- Filter with non-existent label returns empty list
- Filter excludes specs with status pending/in_progress/blocked