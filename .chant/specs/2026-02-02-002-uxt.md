---
type: code
status: in_progress
---
# Consolidate merge-driver-setup into init --merge-driver flag

## Problem

The `chant merge-driver-setup` command is a standalone command that users must run separately after `chant init`. This adds unnecessary friction to the initialization process.

## Solution

Consolidate the merge driver setup into `chant init` via a `--merge-driver` flag. Remove the standalone `chant merge-driver-setup` command.

### Implementation

1. Add `--merge-driver` flag to the `Init` command in `src/main.rs`
2. Modify `cmd_init` to conditionally call `setup_merge_driver()` when flag is set
3. Remove the `MergeDriverSetup` command variant from the `Commands` enum
4. Remove the `cmd_merge_driver_setup` function
5. Update all test functions to pass the new parameter

### User Impact

- Simpler initialization: `chant init --merge-driver` instead of two commands
- No breaking changes for existing users (flag is optional)
- Merge driver can still be set up later by running `chant init --merge-driver` on an existing project

## Acceptance Criteria

- [x] `chant merge-driver-setup` command removed from CLI
- [x] `chant init` accepts `--merge-driver` flag
- [x] When flag is set, merge driver setup code runs (existing `setup_merge_driver()` logic)
- [x] When flag is NOT set, merge driver setup is skipped
- [x] Help output for `chant init` shows the new flag
- [x] CHANGELOG.md updated with this change
