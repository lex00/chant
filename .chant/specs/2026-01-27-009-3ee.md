---
type: code
status: completed
target_files:
- src/cmd/lifecycle.rs
commits:
- b17279d
model: haiku
---
# Resume command should handle in_progress specs not just failed

## Problem

`chant resume` only accepts specs with `status: failed`. But agents can crash or be killed while a spec is `in_progress`, leaving it stuck.

Current error:
```
Error: Spec 2026-01-27-04x-hs0 is not in failed state (current status: InProgress).
Only failed specs can be resumed.
```

## Solution

Change `cmd_resume` to accept both `failed` AND `in_progress` specs:
- Both states indicate incomplete work that needs to be retried
- Reset either to `pending` and optionally re-work

## Acceptance Criteria

- [x] `chant resume` accepts specs with status `in_progress`
- [x] `chant resume` accepts specs with status `failed` (existing behavior)
- [x] Error message updated to reflect both valid states
- [x] `just lint` passes
- [x] `just test` passes