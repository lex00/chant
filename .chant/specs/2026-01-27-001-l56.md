---
type: code
status: completed
model: claude-haiku-4-5-20251001
---
# Add explicit orchestrator role clarification to CLAUDE.md

## Problem

The CLAUDE.md says "Only the chant CLI gets to write files during spec execution" but this is ambiguous:
- "When executing a spec, use chant" âœ“
- But doesn't clearly say: "You (Claude in this conversation) are NOT the one executing specs"

The "For AI Agents Working on Specs" section lists rules, but doesn't clarify that Claude in the main conversation is NOT an agent working on specs - it's the orchestrator dispatching specs.

## Solution

Add explicit "Your Role" section near the top of CLAUDE.md:

```markdown
## Your Role

In this conversation, you are the **orchestrator**. You:
- Create specs with `just chant add`
- Dispatch specs with `just chant work`
- Review results with `just chant show` and `just chant log`

You do NOT implement code directly. Implementation happens inside isolated
worktrees managed by chant, executed by a separate agent instance.

If a user says "work on X" or "implement X", your response should be
`just chant work <spec-id>`, not direct file edits.
```

Also update templates/agent-claude.md with similar clarification appropriate for the agent role.

**Important:** The repo's CLAUDE.md uses `just chant` (wrapper for dev builds). The templates/agent-claude.md (installed for users) must use plain `chant` without `just`.

## Acceptance Criteria

- [x] CLAUDE.md has "Your Role" section near the top explaining orchestrator role
- [x] Section clearly distinguishes orchestrator from implementer agent
- [x] templates/agent-claude.md updated with agent role clarification (using `chant` not `just chant`)
- [x] Guidance on what to do when user says "implement X"
- [x] `just lint` passes