---
type: code
status: pending
---

# Add replay command structure and CLI interface

Add the `replay` command to the CLI with all options and basic validation. This creates the command skeleton with argument parsing, validation that the spec exists and is completed, and error handling for invalid inputs. No execution logic yet.

## Acceptance Criteria

- [x] `chant replay <id>` command is recognized by CLI
- [x] Command accepts `--branch`, `--pr`, `--force`, `--dry-run`, `--prompt` options
- [x] Validates that spec ID exists and is in `completed` status
- [x] Returns clear error if spec doesn't exist or isn't completed
- [x] Help text documents all options with examples

## Edge Cases

- Spec ID doesn't exist: Should show "Spec not found" error
- Spec is not completed (pending/in_progress/blocked): Should show "Only completed specs can be replayed" error
- Invalid option combinations: Should validate and show helpful error
- Missing spec ID argument: Should show usage help

## Example Test Cases

For this feature, verify:
- `chant replay nonexistent` shows "Spec not found"
- `chant replay <pending-spec>` shows status requirement error
- `chant replay --help` shows all options and examples
- `chant replay <completed-spec>` passes validation (but doesn't execute yet)
