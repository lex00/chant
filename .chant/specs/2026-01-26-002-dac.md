---
type: code
status: pending
target_files:
  - src/spec.rs
  - src/cmd/work.rs
---

# Add documentation spec type with tracks field for drift detection

Implement the `type: documentation` spec type that tracks source files and detects drift when they change.

## Context

Documentation specs create a living link between docs and source code:

```yaml
---
type: documentation
tracks:
  - src/auth/*.rs
target_files:
  - docs/auth.md
---
```

When tracked files change after spec completion, drift is detected.

See: docs/concepts/spec-types.md for the full specification.

## Implementation

### Frontmatter Fields

Add `tracks` field to frontmatter parsing:
- Type: `Vec<String>` (glob patterns)
- Only valid for `type: documentation`
- Patterns are relative to repo root

### Type Validation

When `type: documentation`:
- `tracks` field should be present (warn if missing)
- `target_files` should be present

### Prompt Selection

Auto-select `documentation` prompt when `type: documentation` and no explicit `prompt:` specified.

### Drift Detection (Future)

Store tracked file state at completion for future drift detection. For now, just parse and validate the field.

## Acceptance Criteria

- [ ] `tracks` field parses correctly in frontmatter
- [ ] `type: documentation` is a valid spec type
- [ ] Lint warns if documentation spec missing `tracks`
- [ ] Lint warns if documentation spec missing `target_files`
- [ ] Auto-selects `documentation` prompt if available
- [ ] All existing tests pass
- [ ] New tests for documentation type validation
