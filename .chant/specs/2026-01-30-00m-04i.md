---
type: code
status: blocked
labels:
  - refactor
  - architecture
depends_on:
  - 2026-01-30-00k-di7
  - 2026-01-30-00l-4d2
target_files:
  - src/cmd/spec.rs
  - src/cmd/spec/mod.rs
  - src/cmd/spec/add.rs
  - src/cmd/spec/list.rs
  - src/cmd/spec/show.rs
  - src/cmd/spec/lint.rs
  - src/cmd/spec/approve.rs
  - src/cmd/spec/delete.rs
  - src/cmd/mod.rs
---

# Split cmd/spec.rs into focused submodules

## Problem

`src/cmd/spec.rs` is 7,046 lines with mixed responsibilities:
- Spec creation (add)
- Listing and filtering
- Display and rendering (show)
- Validation and linting
- Approval workflow
- Export functionality
- Delete and ready commands

This makes the file hard to navigate and maintain.

## Solution

Split into focused submodules under `src/cmd/spec/`:

```
src/cmd/spec/
├── mod.rs          # Re-exports, shared helpers (~200 lines)
├── add.rs          # cmd_add, create_spec (~800 lines)
├── list.rs         # cmd_list, filtering logic (~1,500 lines)
├── show.rs         # cmd_show, rendering (~500 lines)
├── lint.rs         # cmd_lint, validation (~600 lines)
├── approve.rs      # cmd_approve, cmd_reject (~400 lines)
└── delete.rs       # cmd_delete, cmd_ready (~300 lines)
```

## Acceptance Criteria

- [ ] Create `src/cmd/spec/` directory structure
- [ ] Extract `cmd_add` and spec creation logic to `add.rs`
- [ ] Extract `cmd_list` and filtering to `list.rs`
- [ ] Extract `cmd_show` and display logic to `show.rs`
- [ ] Extract `cmd_lint` and validation to `lint.rs`
- [ ] Extract approval commands to `approve.rs`
- [ ] Extract delete/ready commands to `delete.rs`
- [ ] Create `mod.rs` with re-exports maintaining public API
- [ ] Update `src/cmd/mod.rs` imports
- [ ] All existing tests pass without modification
- [ ] `cargo clippy` passes
- [ ] Each submodule under 1,500 lines
