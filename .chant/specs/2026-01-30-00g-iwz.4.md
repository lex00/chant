---
type: code
status: completed
depends_on:
- 2026-01-30-00g-iwz.1
target_files:
- src/status.rs
- src/formatters.rs
- Cargo.toml
completed_at: 2026-02-01T00:00:00Z
---
# JSON Output Formatter

Implement a formatter that takes `StatusData` and serializes it to JSON for machine-readable output.

### Inherited Context

- Output must be valid JSON parseable by IDE integrations
- Include all sections from regular output

### Acceptance Criteria

- [x] Formatter serializes `StatusData` to JSON
- [x] JSON includes top-level keys: counts, today, attention, in_progress, ready
- [x] All timestamps/durations formatted consistently (ISO8601 or "Xh ago" strings)
- [x] Pretty-print JSON with indentation
- [x] Valid JSON syntax (verified with serde_json)

### Edge Cases

- Empty lists: Include as empty arrays `[]`
- Null/missing data: Use empty structures, not null
- Special characters in titles: Properly escape for JSON

### Example Test Cases

- Given `StatusData` with all fields populated: JSON should have all top-level keys
- Given empty attention list: JSON should include `"attention": []`
- Verify JSON parses with `serde_json::from_str()`

---