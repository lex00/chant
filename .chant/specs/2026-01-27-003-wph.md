---
type: code
status: pending
labels:
- enhancement
- ux
target_files:
- src/main.rs
- src/templates.rs
---
# Allow reinstalling agent instructions after init has already run

Currently `chant init` fails if `.chant/` already exists, preventing users from updating or reinstalling agent instruction files (like `CLAUDE.md` updates) without manually deleting the directory.

## Problem

After running `chant init`, if you want to:
- Update agent instructions to a newer version
- Add instructions for a new agent (e.g., added Cursor support)
- Regenerate corrupted/deleted instruction files

You must manually delete `.chant/` and re-init, losing your specs and config.

## Solution

Add a new command or flag to reinstall/update agent instruction files:

### Option A: New `chant init --update-agents` flag
```bash
chant init --update-agents        # Update agent instruction files only
chant init --update-agents claude # Update only Claude instructions
```

### Option B: Separate `chant agents` command
```bash
chant agents install              # Install/reinstall all agent instructions
chant agents install claude       # Install specific agent
chant agents list                 # Show installed agents
```

## Acceptance Criteria

- [ ] Can update agent instructions without losing existing specs/config
- [ ] Existing instruction files can be overwritten (with confirmation or `--force`)
- [ ] Can selectively install specific agent instructions
- [ ] Works even when `.chant/` already exists
- [ ] Help text explains the command clearly
- [ ] Tests verify instruction file installation
- [ ] `just lint` passes with no warnings

## Design Considerations

- Should backup existing instruction files before overwriting?
- Should diff and show what changed?
- Should support `--dry-run` to preview changes?
- Consider `chant init --force` as simpler alternative (just overwrites agents, not config/specs)

## Notes

- Agent instruction templates are in `src/templates.rs`
- Current init logic is in `src/main.rs` under `Commands::Init`
- This enables keeping agent instructions up-to-date as chant evolves