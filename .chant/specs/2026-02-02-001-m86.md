---
type: code
status: completed
---
# chant work --chain does not respect proper lex order like list does

## Output

## Problem

`chant work --chain` picks specs in wrong order. With 4 ready specs (001, 002, 003, 004), it started with 003 instead of 001.

## Root Cause

`src/cmd/work/chain.rs:88` uses `a.id.cmp(&b.id)` for sorting, while `src/cmd/spec/list.rs:386` and `src/mcp.rs:689` use `spec_group::compare_spec_ids()`.

## Fix

In `src/cmd/work/chain.rs`:
1. Add import: `use chant::spec_group;` after line 15
2. Line 88: Change `a.id.cmp(&b.id)` to `spec_group::compare_spec_ids(&a.id, &b.id)`

## Acceptance Criteria

- [x] `src/cmd/work/chain.rs` imports `chant::spec_group`
- [x] `find_next_ready_spec` sorts using `spec_group::compare_spec_ids`
- [x] `cargo test` passes
- [x] `cargo check` passes