---
type: code
status: completed
depends_on: []
target_files:
- src/cmd/work/mod.rs
- src/cmd/work/single.rs
- src/cmd/work/chain.rs
- src/cmd/work/parallel.rs
- src/cmd/work/wizard.rs
- src/cmd/mod.rs
- src/cmd/work.rs
---
# Split cmd/work.rs into execution modes

Extract the 4174-line work.rs into a module directory with 5 submodules separating execution modes (single, chain, parallel, wizard, mod).

### Inherited Context

- Each task must leave code in a compilable state
- Changes should be independently testable
- Each submodule should be under 1000 lines

### Acceptance Criteria

- [x] Create src/cmd/work/ directory with mod.rs and 4 execution mode submodules
- [x] Move single-spec execution to single.rs
- [x] Move chain execution logic to chain.rs
- [x] Move parallel execution to parallel.rs
- [x] Move wizard to wizard.rs
- [x] Update src/cmd/mod.rs and delete original work.rs
- [x] cargo build succeeds and cargo test passes

### Edge Cases

- Common types (WorkOptions, ExecutionContext) must be in mod.rs
- Submodules may need access to shared helper functions
- Public API surface must remain unchanged

### Example Test Cases

- cmd_work function accessible and functional
- cmd_work_chain and cmd_work_parallel work as before
- Wizard mode launches correctly