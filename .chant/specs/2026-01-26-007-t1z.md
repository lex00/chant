---
type: code
status: completed
target_files:
- src/cmd/work.rs
model: claude-opus-4-5
---

# Add unit tests for auto_select_prompt_for_type function

Test that research specs with origin select research-analysis, research specs with only informed_by select research-synthesis, documentation specs select documentation prompt, and non-matching types return None.

## Acceptance Criteria

- [x] Test research spec with `origin` selects `research-analysis` prompt
- [x] Test research spec with only `informed_by` selects `research-synthesis` prompt
- [x] Test documentation spec selects `documentation` prompt
- [x] Test code type returns None (no auto-selection)
- [x] Test task type returns None (no auto-selection)
- [x] Test returns None when prompt file doesn't exist
- [x] Test research spec with both fields prefers `research-analysis`
- [x] All tests pass
