---
type: task
status: completed
labels:
- design
- ux
model: claude-sonnet-4-5-20250929
---
# Rethink agent install content - MCP-only vs behavioral rules

## Context

Current installed content (chant-section-mcp.md) is 24 lines:
- Orchestrator role statement
- Rules (5 items mixing behavior + commands)
- Spec lifecycle (4 steps)
- MCP tools mention

Repo CLAUDE.md is 45 lines:
- MCP tools table
- Spec workflow
- Monitoring guidance
- What NOT to do

## Question

MCP tools are **self-describing** via their tool descriptions. The agent discovers:
- What tools exist
- What each tool does
- Parameters and usage

So what does CLAUDE.md actually need to tell the agent?

## Analysis

### What MCP Already Provides
- Tool names and purposes (via tool descriptions)
- Parameters and usage
- The "what" of each operation

### What MCP Cannot Provide
- **Behavioral rules**: "Don't edit files directly"
- **Workflow expectations**: "User initiates work, not you"
- **Boundaries**: "Don't run chant work without request"
- **Role definition**: "You are an orchestrator"

### Minimal Viable Content

Perhaps CLAUDE.md section should only be:

```markdown
<!-- chant:begin -->
## Chant

You are an orchestrator. Use `chant_*` MCP tools for spec operations.

**Rules:**
- Do not edit files directly - changes flow through specs
- Do not run `chant work` without user request
- User initiates work; you create specs and monitor

`chant work` requires CLI (spawns agent, not available via MCP).
<!-- chant:end -->
```

That's ~10 lines. Everything else is discoverable.

### Counter-argument

Some workflow context helps:
- Spec lifecycle (add → edit → work → finalize)
- "Add acceptance criteria before work"
- Monitoring guidance

But is this **necessary** or just **nice to have**?

## Options

### Option A: Minimal (~10 lines)
Just behavioral rules. Agent discovers tools via MCP.

### Option B: Workflow + Rules (~25 lines)
Current chant-section-mcp.md approach. Include lifecycle.

### Option C: Full Reference (~45 lines)
Current repo CLAUDE.md. MCP table + workflow + monitoring + constraints.

## Recommendation

**Option A (Minimal)** for MCP users. Reasons:
1. MCP tools are self-documenting
2. Less content = less context window usage
3. Behavioral rules are the only non-discoverable info
4. Agent can ask or use `--help` if confused

Keep Option B for non-MCP users (Cursor, etc.) who need command reference.

## Acceptance Criteria

- [x] Decide: Minimal vs Workflow vs Full for MCP installs → **Option A: Minimal**
- [x] Update `templates/chant-section-mcp.md` accordingly
- [x] Test that agent can function with minimal content → Testing now
- [x] Document rationale in code comments → Rationale in spec body