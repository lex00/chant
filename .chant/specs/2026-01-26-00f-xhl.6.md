---
type: code
status: pending
depends_on:
- 2026-01-26-00f-xhl.5
target_files:
- tests/replay_tests.rs
- docs/
- README.md
---
# Add tests and documentation for replay command

Add comprehensive tests for replay functionality covering success paths, error cases, and edge conditions. Update documentation to explain replay command usage and when to use it versus resume.

### Acceptance Criteria

- [ ] Unit tests cover replay command parsing and validation
- [ ] Integration tests cover full replay flow (success and failure)
- [ ] Tests verify frontmatter updates and commit messages
- [ ] Documentation explains replay vs resume distinction
- [ ] `just lint` passes with no warnings

### Edge Cases

- Test replay of spec that was previously replayed: Should handle correctly with incremented count
- Test replay with all flag combinations: --branch, --pr, --force, --dry-run
- Test failure recovery: Replay fails, then resume works
- Test concurrent safety: Prevent multiple replays of same spec

### Example Test Cases

For this feature, verify:
- Test: Replay completed spec succeeds and updates frontmatter
- Test: Replay non-completed spec returns error
- Test: `--dry-run` doesn't modify anything
- Test: Failed replay can be resumed
- Test: Commit message format is correct