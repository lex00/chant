---
type: code
status: completed
commits:
- 5c5d6bc
- f5fc34d
- cde8888
completed_at: 2026-02-01T15:56:15Z
model: sonnet
---
# Fix --commit/--no-commit conflict in merge command

## Problem
The archive command has --commit and --no-commit flags, but uses `action = clap::ArgAction::Set` which requires a value (`--commit true`) instead of acting as a simple boolean flag (`--commit`). This is confusing for users.

## Solution
Fix the archive command's --commit flag by using `action = clap::ArgAction::SetTrue` instead of `Set`, so it works as a simple boolean flag without requiring a value.

## Acceptance Criteria

- [x] Change archive's `--commit` flag from `action = clap::ArgAction::Set` to `action = clap::ArgAction::SetTrue`
- [x] Verify `chant archive --commit` works without requiring a value
- [x] Verify `chant archive --no-commit` works
- [x] Verify `chant archive --commit --no-commit` shows conflict error
- [x] Run `cargo fmt` to format code
- [x] Run `cargo clippy` and fix any warnings
- [x] Run `just test` and fix any failures
- [x] Commit changes with pattern `chant(2026-02-01-00c-7xm): <description>`