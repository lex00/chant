---
type: code
status: completed
branch: chant/2026-02-04-00g-mzs
commits:
- eb9069a
completed_at: 2026-02-04T18:59:44Z
model: sonnet
---
# Remove deprecated --no-branch flag and make worktree mode the only execution mode

## Problem

The `--no-branch` flag is deprecated but still in the codebase. Having two execution modes adds complexity.

## Solution

Remove `--no-branch` flag and all non-worktree execution paths. Worktree mode is now the only way to run specs.

## Acceptance Criteria

- [x] Remove `--no-branch` / `no_branch` flag from CLI args in src/main.rs
- [x] Remove any code paths that handle non-worktree execution
- [x] `cargo test` passes

## Agent Output

2026-02-04T18:59:44Z

```
I'll read the relevant code to understand how the `--no-branch` flag is currently used.
## Summary

Removed the deprecated `--no-branch` flag from the CLI and eliminated all non-worktree execution paths. Worktree mode is now the only way chant executes specs.

- Removed `no_branch` parameter from `Work` command in src/main.rs:248
- Removed deprecation warning and `no_branch` parameter passing in src/main.rs:895-936
- Removed `no_branch` parameter from `cmd_work()` function in src/cmd/work/single.rs:120
- Simplified worktree creation logic in src/cmd/work/single.rs:546-560 to always use worktrees
- Updated `cmd_resume()` call to remove `no_branch` parameter in src/cmd/lifecycle/resume.rs:52

All tests pass. Git status clean.```
