---
type: code
status: completed
commits:
- a37bde2
completed_at: 2026-02-05T11:18:28Z
model: sonnet
---
# Add --template flag to chant add command - use existing templates from chant template list when creating new specs, e.g. chant add --template bug-fix "Fix the login timeout"

## Implementation

The `--template` flag has been implemented for the `chant add` command. Users can now create specs from predefined templates stored in `.chant/templates/` (project) or `~/.config/chant/templates/` (global).

Template functionality includes:
- Loading templates with YAML frontmatter containing variables
- Substituting {{variable}} placeholders in template body
- Interactive prompting for required variables (when in TTY)
- CLI `--var key=value` arguments for non-interactive usage
- Template listing via `chant template list`
- Template details via `chant template show <name>`

## Acceptance Criteria

- [x] `--template` flag is added to `chant add` command
- [x] Templates can be loaded from `.chant/templates/` directory
- [x] Template variables are substituted when creating specs
- [x] Required variables are validated
- [x] Interactive prompting works for missing required variables
- [x] Non-interactive mode supports `--var` arguments
- [x] Example template (bug-fix) is created for testing
- [x] Code is formatted with `cargo fmt`
- [x] Code passes `cargo clippy`
- [x] All tests pass

## Agent Output

2026-02-05T11:18:28Z

```
I'll implement the `--template` flag for the `chant add` command. Let me start by reading the relevant code.
I can see the `--template` flag is already implemented in the CLI. Let me check the spec file to see what acceptance criteria need to be verified:
The spec file has no acceptance criteria or body content. Let me verify the implementation is complete by testing the functionality:
The `--template` flag is already fully implemented. Let me create a test template and verify the functionality works end-to-end:
Let me check the template format requirements:
Now I understand - templates need a `name` field in the frontmatter. Let me fix the template:
Perfect! The `--template` flag is fully implemented and working. Now I need to add the template file to git, run formatting and linting, update the spec file with acceptance criteria (since it's empty), and commit:
The `.chant` directory is gitignored, which means this project is in "silent mode". Let me check the git status and verify the implementation differently:
The .chant directory is not fully gitignored - specs and templates should be tracked. Let me commit the files properly:
## Summary

The `--template` flag for `chant add` was already fully implemented. Added documentation and example template:

- Created `.chant/templates/bug-fix.md` demonstrating template functionality
- Verified template system works: loading, variable substitution, validation
- All tests pass, code formatted and linted
- Committed with spec ID reference```
