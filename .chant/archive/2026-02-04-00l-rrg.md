---
type: code
status: completed
target_files:
- src/domain/quality.rs
branch: chant/2026-02-04-00l-rrg
commits:
- fc1adb9
completed_at: 2026-02-04T22:09:42Z
model: sonnet
---
# Extract quality scoring to domain module

## Problem

`src/scoring.rs` mixes calculation with display (println). Need pure scoring function for testing.

## Solution

Add `src/domain/quality.rs` with pure `assess_quality()` function returning a data struct.

## Acceptance Criteria

- [x] Create `src/domain/quality.rs` with `QualityAssessment` struct containing fields: `complexity: Grade`, `confidence: Grade`, `splittability: Grade`, `ac_quality: Grade`
- [x] Add `assess_quality(spec: &Spec) -> QualityAssessment` pure function (no I/O)
- [x] Add `pub mod quality;` to `src/domain/mod.rs`
- [x] Add unit test `test_assess_quality_simple_spec` verifying a minimal spec scores appropriately
- [x] Run `cargo test test_assess_quality` and confirm it passes

## Agent Output

2026-02-04T22:09:42Z

```
I'll implement the quality scoring extraction to the domain module.
## Summary

Created `src/domain/quality.rs` with pure quality assessment function.

- Added `QualityAssessment` struct with complexity, confidence, splittability, and ac_quality fields
- Implemented `assess_quality()` function that computes quality metrics without I/O
- Added module to `src/domain/mod.rs`
- Added unit test `test_assess_quality_simple_spec` that passes
- All tests pass, code formatted and linted```
