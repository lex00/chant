---
type: code
status: completed
completed_at: 2026-01-26T22:17:02Z
target_files:
  - src/spec.rs
  - src/render.rs
  - src/diagnose.rs
  - src/cmd/lifecycle.rs
  - src/cmd/spec.rs
model: claude-haiku-4-5-20251001
---

# Add blocked status for specs with unmet dependencies - specs with depends_on pointing to incomplete specs should be marked blocked instead of pending

## Overview

Implement a new "blocked" status for specs that have unmet dependencies. When a spec has `depends_on` entries pointing to incomplete specs, it should automatically be marked as blocked rather than remaining pending. This provides clearer feedback about why specs cannot be executed.

## Acceptance Criteria

- [x] Add `Blocked` variant to `SpecStatus` enum
- [x] Create `is_blocked()` method to check if a spec has unmet dependencies
- [x] Implement `apply_blocked_status()` to automatically update pending specs with unmet deps
- [x] Update `is_ready()` to exclude blocked specs from being considered ready
- [x] Add blocked status icon (âŠ— in red) to render module
- [x] Handle `Blocked` status in all match statements (diagnose.rs, lifecycle.rs, spec.rs, render.rs)
- [x] Write comprehensive tests for blocked status logic
- [x] All existing tests pass
- [x] Code builds successfully with `cargo build`
- [x] Code formatted with `cargo fmt`
