---
type: code
status: completed
model: claude-opus-4-5
target_files:
  - src/config.rs
  - src/cmd/work.rs
  - src/cmd/config.rs
  - docs/reference/config.md
  - docs/reference/cli.md
  - .chant/config.md
  - .chant/prompts/parallel-cleanup.md
---

# Remove total_max from parallel config

## Rationale

`total_max` is redundant. Per-agent `max_concurrent` limits already define capacity. An artificial global cap below agent capacity is a weird use case.

Simplify: total capacity = sum of agent max_concurrent values.

## Changes

1. Remove `total_max` field from ParallelConfig struct
2. Add `total_capacity()` method to ParallelConfig
3. Update distribute_specs_to_agents to use total_capacity()
4. Update config validate to show agent count and total capacity
5. Update all docs to remove total_max references
6. Update project config and prompts

## Acceptance Criteria

- [x] total_max field removed from config struct
- [x] Distribution uses sum of agent limits
- [x] Config validate shows agent limits only
- [x] Docs updated
- [x] Tests pass
