---
type: code
status: completed
commits:
- b30b3fa
completed_at: 2026-02-05T11:28:20Z
model: sonnet
---
# Add kiro-cli as a provider option - kiro-cli is MCP-only, configure via kiro-cli mcp add, see https://kiro.dev/docs/cli/mcp

## Implementation

Added `kirocli` as a new provider option:

- Added `Kirocli` variant to `ProviderType` enum in `src/provider.rs`
- Implemented `KiroCliProvider` struct with `ModelProvider` trait
- Integrated into `get_model_provider()` in `src/cmd/agent.rs`
- Added test for kiro-cli provider name

### Configuration

To use kiro-cli as a provider:

```yaml
defaults:
  provider: kirocli
  model: default  # or specify your kiro-cli agent name
```

kiro-cli is MCP-only and must be configured separately using:
```bash
kiro-cli mcp add --name [server-name] --scope [scope] --command [command]
```

See: https://kiro.dev/docs/cli/mcp

## Agent Output

2026-02-05T11:28:20Z

```
I'll implement the kiro-cli provider option. Let me start by understanding the current provider configuration structure.
Now I understand the structure. I need to:
1. Add `Kirocli` to the `ProviderType` enum in `src/provider.rs`
2. Create a `KiroCliProvider` struct and implement `ModelProvider` for it
3. Add configuration support if needed
4. Update the provider selection logic in `src/cmd/agent.rs`
## Summary

Added kiro-cli as a provider option alongside Claude, Ollama, and OpenAI.

- Added `Kirocli` variant to `ProviderType` enum
- Implemented `KiroCliProvider` with streaming output via `--no-interactive` and `--trust-all-tools` flags
- Integrated into provider selection in `get_model_provider()`
- Tests pass, clippy clean, code formatted

Configure in `.chant/config.md`:
```yaml
defaults:
  provider: kirocli
  model: default  # or your kiro-cli agent name
```

MCP servers must be configured separately via `kiro-cli mcp add`.```
