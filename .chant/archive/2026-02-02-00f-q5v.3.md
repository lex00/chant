---
type: code
status: completed
depends_on: []
target_files:
- examples/test-examples.sh
commits:
- 605a4d8
completed_at: 2026-02-02T13:52:01Z
model: sonnet
---
# Create test runner script

Build `examples/test-examples.sh` that executes examples via Claude Code CLI.

### Inherited Context

- Script must handle 3 execution patterns: driver, chain, independent
- Examples must be runnable without manual intervention

### Acceptance Criteria

- [x] Script is executable (chmod +x) and includes shebang
- [x] `--help` flag displays usage with examples for each pattern
- [x] `./test-examples.sh all` runs all 5 examples sequentially
- [x] `./test-examples.sh <example-name>` runs single example
- [x] Script detects execution pattern per example and uses correct chant command

### Edge Cases

- Non-existent example name: Exit with error and helpful message
- Claude Code CLI not available: Check for `claude` command and fail gracefully
- Example directory structure changes: Script should validate directory exists

### Example Test Cases

For execution pattern detection:
- kpi-okr-workflow: Detect driver pattern, run `chant work <driver-spec-id>`
- oss-maintainer-workflow: Detect chain pattern, run `chant work --chain <spec-ids...>`
- approval-workflow: Detect independent pattern, run each spec separately


- `test-examples.sh` script with function `run_example(name)` - Exits 0 on success, 1 on failure
- Pattern detection: Script determines driver/chain/independent from spec structure

---

## Agent Output

2026-02-02T13:52:01Z

```
I'll implement the test runner script for running examples via Claude Code CLI.
## Summary

Created `examples/test-examples.sh` with:

- Executable script with shebang for running examples via Claude Code CLI
- Pattern detection: automatically identifies driver/chain/independent execution patterns
- `--help` flag with comprehensive usage documentation
- `all` command runs all 5 examples sequentially
- Single example execution with validation
- Error handling for non-existent examples, missing CLI, and invalid directories

examples/test-examples.sh:1```
