---
type: documentation
status: completed
target_files:
- docs/reference/cli.md
- docs/scale/isolation.md
commits:
- 59715bd
completed_at: 2026-01-30T10:40:42Z
model: opus
---
# Document worktree status command and environment variables

Recent commits added worktree features that need documentation:
- `chant worktree status` command (commit dbf33c9)
- Worktree environment variables for agents (commit cb05c3e)
- Worktree context in prompts (commit 3ba80e8)

## Acceptance Criteria

- [x] Add "## Worktree" section to `docs/reference/cli.md` documenting `chant worktree status` command
- [x] Document command output format (Path, Branch, HEAD, Size, Age columns)
- [x] Document environment variables (`CHANT_WORKTREE`, `CHANT_WORKTREE_PATH`, `CHANT_BRANCH`) set when agents run in worktrees
- [x] Update `docs/scale/isolation.md` to mention the `chant worktree status` command for inspecting active worktrees

## Agent Output

2026-01-30T10:40:42Z

```
I'll document the worktree status command and environment variables. Let me start by reading the source files to understand what needs to be documented.
Now let me read the source files to understand the implementation details.
Now let me also check the spec for more context and look at the commit that added worktree context in prompts.
Now I have all the information I need. Let me add the Worktree section to the CLI reference document.
Now let me update the isolation documentation to mention the `chant worktree status` command.
Now let me update the spec to mark the acceptance criteria as complete.
Now let me commit the changes.
I've completed all the acceptance criteria for the spec:

1. **Added "## Worktree" section to `docs/reference/cli.md`** - Documents the `chant worktree status` command with example output and use cases.

2. **Documented command output format** - Created tables describing all output fields (Path, Branch, HEAD, Spec, Title, Status, Size, Age) and flags (`[prunable]`).

3. **Documented environment variables** - Added section explaining `CHANT_WORKTREE`, `CHANT_WORKTREE_PATH`, and `CHANT_BRANCH` with a table, descriptions, and example bash snippet.

4. **Updated `docs/scale/isolation.md`** - Added "Inspecting Active Worktrees" section with cross-reference to the CLI documentation.

The commit has been created with message: `chant(2026-01-30-007-rsh): Document worktree status command and environment variables````
