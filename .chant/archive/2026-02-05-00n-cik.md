---
type: code
status: completed
---
# Finalization fails because acceptance criteria checkboxes not visible to validator. Agents update checkboxes in worktree spec file, but finalize validator reads from main branch or stale copy. Spec ends up failed despite code committed and tests passing. Investigate: does finalize read spec from worktree or main? Are checkbox edits committed before finalize runs? Fix the race condition so finalize sees the agent's checkbox updates.