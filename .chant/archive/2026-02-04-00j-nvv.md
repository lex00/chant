---
type: code
status: completed
target_files:
- src/domain/mod.rs
- src/domain/spec_validation.rs
branch: chant/2026-02-04-00j-nvv
commits:
- 15e630e
completed_at: 2026-02-04T21:52:55Z
model: sonnet
---
# Create domain module with spec validation functions

## Problem

Spec validation logic (status checks, dependency checks, ready/blocked) is scattered in command handlers. Need pure functions for testability.

## Solution

Create `src/domain/` module with pure validation functions extracted from command code.

## Acceptance Criteria

- [x] Create `src/domain/mod.rs` that exports `spec_validation` module
- [x] Create `src/domain/spec_validation.rs` with `is_spec_ready(spec: &Spec, all_specs: &[Spec]) -> bool` function
- [x] Add `get_blockers(spec: &Spec, all_specs: &[Spec]) -> Vec<String>` returning IDs of blocking specs
- [x] Add `pub mod domain;` to `src/lib.rs`
- [x] Add unit test `test_is_spec_ready_no_deps` in same file verifying spec with no depends_on is ready
- [x] Run `cargo test test_is_spec_ready` and confirm it passes

## Agent Output

2026-02-04T21:52:55Z

```
I'll implement this spec by creating the domain module with spec validation functions.
## Summary

Created `src/domain/` module with pure spec validation functions extracted from command code.

- Added `src/domain/mod.rs` exporting `spec_validation` module
- Created `src/domain/spec_validation.rs` with `is_spec_ready()` and `get_blockers()` functions
- Updated `src/lib.rs` to include the domain module
- Included unit test `test_is_spec_ready_no_deps` that passes
- All acceptance criteria met, code formatted and linted```
