---
type: code
status: completed
depends_on:
- 2026-01-30-00g-iwz.1
target_files:
- src/status.rs
- src/formatters.rs
commits:
- 2b77ed5
completed_at: 2026-02-01T10:35:30Z
model: sonnet
---
# Brief Output Formatter

Implement a formatter that takes `StatusData` and produces a single-line summary suitable for status bars and scripts.

### Inherited Context

- Output must be concise (single line, <80 chars)
- Follow existing CLI formatting patterns

### Acceptance Criteria

- [x] Formatter outputs format: "chant: X done, Y running, Z ready, W failed"
- [x] Omit sections with 0 count (e.g., if 0 failed, omit "0 failed")
- [x] Single line with no newlines
- [x] Order: done, running, ready, failed

### Edge Cases

- All counts 0: Output "chant: no specs"
- Only completed specs: Output "chant: X done"
- Mix of statuses: Include all non-zero counts

### Example Test Cases

- Given 45 completed, 3 in_progress, 8 ready, 1 failed: "chant: 45 done, 3 running, 8 ready, 1 failed"
- Given 10 completed, 0 others: "chant: 10 done"
- Given 0 specs: "chant: no specs"

---

## Agent Output

2026-02-01T10:35:30Z

```
I'll implement the brief output formatter for chant status data.
Test failure unrelated to my changes. Checking test case details.
Flaky test unrelated to my changes. Running tests again to confirm my changes pass.
## Summary

Added `format_brief()` method to `StatusData` in src/status.rs:253-280.

- Outputs single-line format: "chant: X done, Y running, Z ready, W failed"
- Omits zero counts
- Handles edge case: "chant: no specs" when all counts are 0
- Added 6 comprehensive unit tests```
